/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e,t={356:(e,t,n)=>{var r=n(8100),a=n(8211),o=n(7098);const i=o.Z;var c,l,s,u,m,f=n(6160),p=n(2110),d=n(1630),h=n(4694),y=n(1497),g=n(1897),v=n(9317),b=n(1488),E=n(7818),w=n(146),R=window.wr2x_retina.prefix,x=window.wr2x_retina.domain,_=window.wr2x_retina.rest_url.replace(/\/+$/,""),k=window.wr2x_retina.api_url.replace(/\/+$/,""),S=window.wr2x_retina.plugin_url.replace(/\/+$/,""),O=window.wr2x_retina.upload_url.replace(/\/+$/,""),L="1"===window.wr2x_retina.is_pro,P=L&&"1"===window.wr2x_retina.is_registered,I=window.wr2x_retina.rest_nonce,T=(window.wr2x_retina.home_url.replace(/\/+$/,""),window.wr2x_retina.site_url.replace(/\/+$/,"")),N=window.wr2x_retina.options,j=window.wr2x_retina.image_size_names,z=n(8406),A=n(2788);function C(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var F=A.ZP.div(c||(c=C(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]))),D=(0,A.ZP)(w.v)(l||(l=C(["\n\n  .neko-block-title {\n    display: none;\n  }\n\n  .plugin-desc {\n    display: flex;\n    flex-direction: column;\n    margin-left: 15px;\n  }\n\n  .neko-block-content {\n    display: flex;\n    padding: 15px;\n\n    h2 {\n      font-size: 18px;\n      margin: 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      margin-top: 10px;\n      font-size: 13px;\n      line-height: 1.5;\n    }\n\n    .plugin-actual-desc {\n      font-size: 13px;\n      font-weight: 500;\n    }\n  }\n"]))),B=A.ZP.img(s||(s=C(["\n  height: 125px;\n  width: auto;\n  border-radius: 10px;\n  background: lightgray;\n"]))),M=A.ZP.div(u||(u=C(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    color: black;\n    border-radius: 10px;\n    padding: 10px;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]))),G=A.ZP.ul(m||(m=C(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n  color: white;\n\n  .log-date {\n    color: var(--neko-yellow);\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: var(--neko-yellow);\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: var(--neko-red);\n    color: white;\n  }\n"])));function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function U(){U=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function p(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==W(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Z(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,c,"next",e)}function c(e){Z(o,r,a,i,c,"throw",e)}i(void 0)}))}}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=wp.element,J=$.useState,X=$.useEffect,K="".concat(_,"/meow-common/v1"),Q=function(e){var t=e.request,n=e.title,r=e.max,o=q(J(!1),2),i=o[0],c=o[1],l=q(J([]),2),s=l[0],u=l[1],m=s.length>0?s.reduce((function(e,t){return e+t})):0,p=s.length>0?Math.ceil(m/s.length):0,d=!s.length&&i;return X((function(){i&&setTimeout(V(U().mark((function e(){var n,r,o;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),e.next=3,(0,a.PV)("".concat(K,"/").concat(t),{method:"POST",nonce:I});case 3:r=(new Date).getTime(),o=r-n,u((function(e){return[].concat(function(e){if(Array.isArray(e))return Y(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||H(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]);var t}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[s]),React.createElement(F,{style:{width:200,textAlign:"center"}},React.createElement(f.O,{h2:!0,style:{color:"white"}},n),React.createElement(z._,{size:200,value:d?r:p,max:r},React.createElement("span",{style:{fontSize:20}},d?"START":p+" ms"),React.createElement("span",{style:{fontSize:12}},d?"YOUR ENGINE":s.length+" requests")),React.createElement(E._,{style:{width:"100%",marginTop:10},color:i?"#cc3627":"#ccb027",onClick:function(){i||u([]),c(!i)}},i?"Stop":"Start"))};function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(){te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function p(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==ee(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ee(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){oe(o,r,a,i,c,"next",e)}function c(e){oe(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var se=wp.element,ue=se.useState,me=se.useEffect;k&&_&&S||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var fe="".concat(_,"/meow-common/v1"),pe=React.createElement(F,null,React.createElement(f.O,{p:!0,style:{lineHeight:"1.5",margin:"0 0 15px 0"}},"Hi! â˜€ï¸ Meow Apps isn't your typical plugin suiteâ€”it's a passion project led by me, ",React.createElement("a",{target:"_blank",href:"https://jordymeow.com"},"Jordy Meow"),", and a stellar team! ðŸ’• Based in ",React.createElement("a",{target:"_blank",href:"https://offbeatjapan.org"},"Japan"),", we're all about making your WordPress experience smoother and speedier. Our plugins are all about boosting your site's performance and user-friendliness. Ready to level up your WordPress game? Check out ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps")," and let's make magic happen! ðŸŒ´ðŸ™€")),de=React.createElement(F,null,React.createElement(f.O,{p:!0},"The ",React.createElement("b",null,"Empty Request Time")," measures your installation's basic performance by showing the average time needed to process an empty request on your server. To see how disabling plugins affects the results, turn some off and run the test again. Aim for a time under 2,000 ms, but ideally, keep it below 500 ms. The ",React.createElement("b",null,"File Operation Time")," creates a temporary 10MB file each time it runs. ",React.createElement("b",null,"The SQL Request Time")," calculates the total number of posts. This process should be quick and have a similar duration to the Empty Request Time.")),he=React.createElement(F,null,React.createElement(f.O,{p:!0},"Maintain a streamlined WordPress setup by using essential plugins and a dependable hosting provider. Refrain from self-hosting unless you're an expert. Go further by reading our tutorials:",React.createElement("ul",null,React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"The Best Hosting Services for WordPress"))))),ye=["".concat(fe,"/all_settings/"),{headers:{"X-WP-Nonce":I}}],ge=function(){var e=ce(ue(!1),2),t=e[0],n=e[1],o=(0,r.ZP)(ye,a.SG),i=o.data,c=o.mutate,l=o.error,s=null==i?void 0:i.data,u=null==s?void 0:s.meowapps_hide_meowapps,m=null==s?void 0:s.force_sslverify,R=ce(ue(!1),2),x=R[0],_=R[1],k=ce(ue([]),2),S=k[0],O=k[1],L=ce(ue(""),2),P=L[0],T=L[1];me((function(){l&&!t&&(n(!0),console.error("Error from UseSWR",l.message))}),[l]),me((function(){var e=document.getElementById("meow-common-phpinfo");T(e.innerHTML)}),[]);var N=function(){var e=ie(te().mark((function e(t,n){var r,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=re({},i.data))[n]=t,console.log({value:t,id:n,newSettingsData:r}),c(re(re({},i),{},{data:r}),!1),_(!0),e.next=7,(0,a.PV)("".concat(fe,"/update_option"),{method:"POST",nonce:I,json:{name:n,value:t}});case 7:o=e.sent,_(!1),o.success||alert(o.message),c();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=ie(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _("isLoadingErrorLogs"),e.next=3,(0,a.PV)("".concat(fe,"/error_logs"),{method:"POST",nonce:I});case 3:t=e.sent,n=t&&t.data?t.data:[],O(n.reverse()),_(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=React.createElement(p.r,{title:"Main Menu"},React.createElement(d.l,{max:"1"},React.createElement(h.P,{name:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(f.O,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings â†’ General."),value:"1",disabled:x,checked:u,onChange:N}))),A=React.createElement(p.r,{title:"SSL Verify"},React.createElement(d.l,{max:"1"},React.createElement(h.P,{name:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(f.O,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:x,checked:m,onChange:N})));return React.createElement(y.s,{showRestError:t},React.createElement(g.B,{title:"The Dashboard"}),React.createElement(v.o,null,React.createElement(v.z,{full:!0},React.createElement(b.c,{keepTabOnReload:!0},React.createElement(b.P,{title:"Meow Apps"},pe,React.createElement(v.o,null,React.createElement(v.z,{minimal:!0},React.createElement(D,{title:"AI Engine",className:"primary"},React.createElement(B,{src:"https://ps.w.org/ai-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"AI Engine")),React.createElement("p",{className:"plugin-actual-desc"},"This is the ultimate AI plugin for WordPress. From a chatbot adapted to your needs to an AI that can write your content for you, API, REST, and more."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/ai-engine/"},"Meow Apps"))))),React.createElement(D,{title:"Media Cleaner",className:"primary"},React.createElement(B,{src:"https://ps.w.org/media-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",{className:"plugin-actual-desc"},"Is your Media Library bloated, your database heavy, and your website running slow? Media Cleaner will clean your Media Library from the media entries (and files) which aren't used in your website, as well as broken entries."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/media-cleaner/"},"Meow Apps"))))),React.createElement(D,{title:"Database Cleaner",className:"primary"},React.createElement(B,{src:"https://ps.w.org/database-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",{className:"plugin-actual-desc"},"Not only does Database Cleaner have a user-friendly UI, but it's also equipped to handle large DBs, giving it an edge over other plugins. It's a must-have for any WordPress site."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/database-cleaner/"},"Meow Apps"))))),React.createElement(D,{title:"Media File Renamer",className:"primary"},React.createElement(B,{src:"https://ps.w.org/media-file-renamer/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",{className:"plugin-actual-desc"},"Rename and move files directly from the dashboard, manually, automatically or via AI, either individually or in bulk. It's the best way to rename your files."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/media-file-renamer/"},"Meow Apps"))))),React.createElement(D,{title:"Social Engine",className:"primary"},React.createElement(B,{src:"https://ps.w.org/social-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",{className:"plugin-actual-desc"},'Effortlessly schedule and automate the perfect posts for all your networks. Unlimited capabilities and infinite className="plugin-actual-desc" extensibility, for free!'),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/social-engine/"},"Meow Apps"))))),React.createElement(D,{title:"Meow Analytics",className:"primary"},React.createElement(B,{src:"https://ps.w.org/meow-analytics/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",{className:"plugin-actual-desc"},"Google Analytics for your website. Simple and fast."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/meow-analytics/"},"Meow Apps")))))),React.createElement(v.z,{minimal:!0},React.createElement(D,{title:"Contact Form Block",className:"primary"},React.createElement(B,{src:"https://ps.w.org/seo-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/seo-engine/"},"SEO Engine")),React.createElement("p",{className:"plugin-actual-desc"},"Optimize your content for SEO and for the AI world, with AI assistants... while keeping everything simple and fast, as it should be! âœŒï¸"),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/seo-engine/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/seo-engine/"},"Meow Apps"))))),React.createElement(D,{title:"Meow Gallery",className:"primary"},React.createElement(B,{src:"https://ps.w.org/meow-gallery/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",{className:"plugin-actual-desc"},"Fast and beautiful galleries with many layouts. Forget the heavy and slow plugins, use the Meow Gallery for a better experience! ðŸ’•"),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/meow-gallery/"},"Meow Apps"))))),React.createElement(D,{title:"Meow Lightbox",className:"primary"},React.createElement(B,{src:"https://ps.w.org/meow-lightbox/assets/icon-256x256.gif"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",{className:"plugin-actual-desc"},"Sleek and performant lightbox with EXIF support."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/meow-lightbox/"},"Meow Apps"))))),React.createElement(D,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(B,{src:"https://ps.w.org/wp-retina-2x/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",{className:"plugin-actual-desc"},"Manage, Optimize, Replace your images with Perfect Images."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/wp-retina-2x/"},"Meow Apps"))))),React.createElement(D,{title:"Photo Engine",className:"primary"},React.createElement(B,{src:"https://ps.w.org/wplr-sync/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",{className:"plugin-actual-desc"},"Organize your photos in folders and collections. Synchronize with Lightroom. Simplify and speed up your workflow."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/wplr-sync/"},"Meow Apps"))))),React.createElement(D,{title:"Contact Form Block",className:"primary"},React.createElement(B,{src:"https://ps.w.org/contact-form-block/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",{className:"plugin-actual-desc"},"Need a very simple but straightforward contact form? This is the one you need. It's fast, simple, and efficient."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/contact-form-block/"},"Meow Apps")))))))),React.createElement(b.P,{title:"Performance"},de,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(Q,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(Q,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(Q,{title:"SQL Request Time",request:"sql_request",max:2800})),he),React.createElement(b.P,{title:"PHP Info"},React.createElement(M,{dangerouslySetInnerHTML:{__html:P}})),React.createElement(b.P,{title:"PHP Error Logs"},React.createElement(F,null,React.createElement(E._,{style:{marginBottom:10},color:"#ccb027",onClick:j,disabled:x,isBusy:"isLoadingErrorLogs"===x},"Load PHP Error Logs"),React.createElement(G,null,S.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))),React.createElement(f.O,{p:!0},"If you don't see any errors, your host might not allow remote access to PHP error logs. Contact them for assistance, or look in your hosting control panel."))),React.createElement(b.P,{title:"Settings"},React.createElement(w.v,{title:"Settings",className:"primary"},z,A))))))},ve=n(8519),be=n(4291),Ee=n(7198),we=n(6536),Re=n(9995),xe=n(2719),_e=n(5231),ke=n(8281),Se=n(1492),Oe=n(6071),Le=n(3103),Pe=n(776),Ie=n(8773),Te=n(9225),Ne=n(1203),je=n(7363);function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ze(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ze(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(){Me=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function p(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==ze(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Ge(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ge(o,r,a,i,c,"next",e)}function c(e){Ge(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Ue,Ze,Ve={issues:"-",ignored:"-",all:"-",optimizeIssues:"-"},qe=0,He={filterBy:"all",page:1,limit:10,busy:!1,stats:Ve,sort:{accessor:"id",by:"asc"},search:"",apiErrors:null,status:"",entries:[],totalEntries:0,options:N,wr2xSizes:N.sizes,wr2xRetinaSizes:N.retina_sizes,wr2xDisabledSizes:N.disabled_sizes,wr2xMethod:N.method,wr2xFullSize:N.full_size,wr2xWebpFullSize:N.webp_full_size,wr2xPicturefillKeepSrc:N.picturefill_keep_src,wr2xPicturefillLazysizes:N.picturefill_lazysizes,wr2xPicturefillCssBackground:N.picturefill_css_background,wr2xPicturefillNoscript:N.picturefill_noscript,wr2xAutoGenerate:N.auto_generate,wr2xWebpAutoGenerate:N.webp_auto_generate,wr2xOverHttpCheck:N.over_http_check,wr2xDebug:N.debug,wr2xDisableResponsive:N.disable_responsive,wr2xImageReplace:N.image_replace,wr2xCdnDomain:N.cdn_domain,wr2xEasyioDomain:N.easyio_domain,wr2xEasyioLossless:N.easyio_lossless,wr2xBigImageSizeThreshold:N.big_image_size_threshold,wr2xHideRetinaColumn:N.hide_retina_column,wr2xHideRetinaDashboard:N.hide_retina_dashboard,wr2xHideOptimize:N.hide_optimize,modals:{uploadRetinaFullsize:!1,showOriginalSize:!1},mutateEntries:(Ze=We(Me().mark((function e(){return Me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Ze.apply(this,arguments)}),mutateStats:(Ue=We(Me().mark((function e(){return Me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Ue.apply(this,arguments)})},Ye="PAGE_UPDATED",$e="LIMIT_UPDATED",Je="FILTER_UPDATED",Xe="SORT_UPDATED",Ke="SEARCH_UPDATED",Qe="TOGGLE_MODAL",et="PUSH_BUSY",tt="POP_BUSY",nt="ENTRIES_UPDATED",rt="TOTAL_ENTRIES_UPDATED",at="STATS_UPDATED",ot="STATUS_UPDATED",it="ERROR_UPDATED",ct="SET_ENTRIES_MUTATE",lt="SET_STATS_MUTATE",st=function(e,t){switch(t.type){case nt:var n=t.entries;return De(De({},e),{},{entries:n});case rt:var r=t.totalEntries;return De(De({},e),{},{totalEntries:r});case at:var a=t.stats;return De(De({},e),{},{stats:a});case"SETTINGS_UPDATED":var o,i,c,l,s,u,m,f,p,d,h,y,g,v,b,E,w,R,x,_,k=t.options,S=null!==(o=k.sizes)&&void 0!==o?o:[],O=k.retina_sizes,L=k.disabled_sizes,P=k.method,I=null!==(i=k.full_size)&&void 0!==i&&i,T=null!==(c=k.webp_full_size)&&void 0!==c&&c,N=null!==(l=k.picturefill_keep_src)&&void 0!==l&&l,j=null!==(s=k.picturefill_lazysizes)&&void 0!==s&&s,z=null!==(u=k.picturefill_css_background)&&void 0!==u&&u,A=null!==(m=k.picturefill_noscript)&&void 0!==m&&m,C=null!==(f=k.auto_generate)&&void 0!==f&&f,F=null!==(p=k.webp_auto_generate)&&void 0!==p&&p,D=null!==(d=k.over_http_check)&&void 0!==d&&d,B=null!==(h=k.debug)&&void 0!==h&&h,M=null!==(y=k.disable_responsive)&&void 0!==y&&y,G=null!==(g=k.image_replace)&&void 0!==g&&g,W=null!==(v=k.cdn_domain)&&void 0!==v?v:"",U=null!==(b=k.easyio_domain)&&void 0!==b?b:"",Z=null!==(E=k.easyio_lossless)&&void 0!==E?E:"",V=null!==(w=k.big_image_size_threshold)&&void 0!==w&&w,q=null!==(R=k.hide_retina_column)&&void 0!==R&&R,H=null!==(x=k.hide_retina_dashboard)&&void 0!==x&&x,Y=null!==(_=k.hide_optimize)&&void 0!==_&&_,$=q?"all":"issues";return De(De({},e),{},{options:k,wr2xSizes:S,wr2xRetinaSizes:O,wr2xDisabledSizes:L,wr2xMethod:P,wr2xFullSize:I,wr2xPicturefillKeepSrc:N,wr2xPicturefillLazysizes:j,wr2xPicturefillCssBackground:z,wr2xPicturefillNoscript:A,wr2xAutoGenerate:C,wr2xOverHttpCheck:D,wr2xDebug:B,wr2xDisableResponsive:M,wr2xImageReplace:G,wr2xCdnDomain:W,wr2xEasyioDomain:U,wr2xEasyioLossless:Z,wr2xBigImageSizeThreshold:V,wr2xHideRetinaColumn:q,wr2xHideRetinaDashboard:H,wr2xHideOptimize:Y,filterBy:$,wr2xWebpFullSize:T,wr2xWebpAutoGenerate:F});case it:var J=t.apiErrors;return De(De({},e),{},{apiErrors:J});case Ye:var X=t.page;return De(De({},e),{},{page:X});case ct:var K=t.mutateEntries;return De(De({},e),{},{mutateEntries:K});case lt:var Q=t.mutateStats;return De(De({},e),{},{mutateStats:Q});case $e:var ee=t.limit;return De(De({},e),{},{limit:ee});case Je:var te=t.filter;return De(De({},e),{},{filterBy:te});case Xe:var ne=t.sort;return De(De({},e),{},{sort:ne});case Ke:var re=t.search;return De(De({},e),{},{search:re});case ot:var ae=t.status;return De(De({},e),{},{status:ae});case Qe:var oe=t.modal,ie=t.enable;if(!oe){var ce=De({},e);return ce.modals=De({},He.modals),ce}if(void 0===e.modals[oe])return alert("The modal ".concat(oe," doesn't exist.")),e;void 0===ie&&(ie=!e.modals[oe]);var le=De({},e);return le.modals=De({},le.modals),le.modals[oe]=ie,le;case et:return De(De({},e),{},{busy:++qe>0});case tt:return De(De({},e),{},{busy:--qe>0});default:return e}},ut=(0,je.createContext)(),mt=function(e){var t=e.children,n=Ae((0,je.useReducer)(st,He),2),o=n[0],i=n[1],c=o.filterBy,l=o.limit,s=o.page,u=o.sort,m=o.search,f=(0,je.useMemo)((function(){return[(0,a.Ln)("".concat(k,"/media"),{limit:l,skip:(s-1)*l,filterBy:c,orderBy:u.accessor,order:u.by,search:m}),{headers:{"X-WP-Nonce":I}}]}),[c,l,s,u,m,k,I,a.Ln]),p=(0,je.useMemo)((function(){return[(0,a.Ln)("".concat(k,"/stats"),{search:m}),{headers:{"X-WP-Nonce":I}}]}),[m,k,I,a.Ln]),d=(0,r.ZP)(f,a.SG),h=d.data,y=d.mutate;(0,je.useEffect)((function(){i({type:ct,mutateEntries:y})}),[y]),(0,je.useEffect)((function(){i({type:lt,mutateStats:_})}),[_]);var g=(0,be.Fq)(h,[],!0),v=g.busy,b=g.data,E=g.total,w=g.error;(0,je.useEffect)((function(){i({type:v?et:tt})}),[v]),(0,je.useEffect)((function(){i({type:nt,entries:b})}),[b]),(0,je.useEffect)((function(){i({type:rt,totalEntries:E})}),[E]),(0,je.useEffect)((function(){i({type:it,apiError:w})}),[w]);var R=(0,r.ZP)(p,a.SG),x=R.data,_=R.mutate,S=(0,be.Fq)(x,Ve,!0),O=S.busy,L=S.data,P=S.error;return(0,je.useEffect)((function(){i({type:O?et:tt})}),[O]),(0,je.useEffect)((function(){i({type:at,stats:L})}),[L]),(0,je.useEffect)((function(){i({type:it,apiError:P})}),[P]),React.createElement(ut.Provider,{value:[o,i]},t)};const ft=function(){var e={},t=Ae((0,je.useContext)(ut),2),n=t[0],r=t[1];return e.setStatus=function(e){r({type:ot,status:e})},e.setPage=function(e){r({type:Ye,page:e})},e.setLimit=function(e){r({type:$e,limit:e})},e.setFilter=function(e){r({type:Je,filter:e})},e.setSort=function(e){r({type:Xe,sort:e})},e.setSearch=function(e){r({type:Ke,search:e})},e.toggleModal=function(e){r({type:Qe,modal:e,enable:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0})},e.pushBusy=function(){r({type:et})},e.popBusy=function(){r({type:tt})},De(De({},n),e)};var pt=wp.i18n.__,dt={};dt.COMMON={DASHBOARD:pt("Dashboard","wp-retina-2x")},dt.GENERATE=pt("Generate","wp-retina-2x"),dt.WEBP={TITLE:pt("WebP","wp-retina-2x")},dt.AVIF={TITLE:pt("AVIF","wp-retina-2x")},dt.DASHBOARD={OPTIMIZER_NO_ALLOW_EXEC:pt("Your server does not allow exec. For more information, click <a href='https://www.php.net/manual/en/function.exec.php' target='_blank'>here</a>.","wp-retina-2x")},dt.PENDING=pt("Pending","wp-retina-2x"),dt.RENAMED=pt("Renamed","wp-retina-2x"),dt.ALL=pt("All","wp-retina-2x"),dt.THUMB=pt("Thumb","wp-retina-2x"),dt.TITLE_REPLACE=pt("Replace / Title / Size","wp-retina-2x"),dt.ATTACHED_TO=pt("Attached To","wp-retina-2x"),dt.FILENAME=pt("Filename","wp-retina-2x");const ht=dt;var yt,gt=n(5833);function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function bt(){bt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function p(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==vt(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Et(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Et(o,r,a,i,c,"next",e)}function c(e){Et(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _t,kt,St=wp.element,Ot=St.useState,Lt=St.useEffect,Pt=A.ZP.div(yt||(_t=["\n  display: block;\n  color: white;\n  padding: 8px 0px;\n  font-size: 10px;\n  text-align: center;\n  width: 24px;\n  height: 24px;\n  line-height: 8px;\n  margin-left: 2px;\n  margin-right: -6px;\n  box-sizing: border-box;\n  margin-bottom: 2px;\n  background: var(--neko-blue);\n  border-radius: 3px;\n  box-shadow: 0px 0px 3px white;\n  cursor: pointer;\n\n  &.disabled {\n    background: gray;\n  }\n\n  &.missing {\n    background: var(--neko-red);\n  }\n\n  &.cannot {\n    background: var(--neko-red);\n  }\n\n  &.pending {\n    background: var(--neko-orange);\n  }\n\n  &.ignored {\n    background: gray;\n  }\n\n  &:last-child {\n    margin-right: 6px;\n  }\n"],kt||(kt=_t.slice(0)),yt=Object.freeze(Object.defineProperties(_t,{raw:{value:Object.freeze(kt)}}))));const It=function(e){var t=e.mutate,n=e.actionButton,r=void 0===n||n,o=e.displaySizes,i=void 0===o||o,c=e.displayFullSize,l=void 0===c||c,s=Rt(Ot(e.entry),2),u=s[0],m=s[1],f=Rt(Ot(!1),2),p=f[0],d=f[1],h=(0,be.cf)({concurrency:2}).runTask;Lt((function(){e.entry?m(e.entry):e.mediaId&&y(e.mediaId)}),[e.entry]);var y=function(){var e=wt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d((function(e){return e+1})),e.next=3,h(wt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.ZL)("".concat(k,"/details"),{json:{mediaId:t},nonce:I}));case 1:case"end":return e.stop()}}),e)}))));case 3:n=e.sent,m(n.data),d((function(e){return e-1}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=wt(bt().mark((function e(n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(n),t&&t();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var t=wt(bt().mark((function t(){var n;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d((function(e){return e+1})),t.next=3,(0,a.ZL)("".concat(k,"/build_retina"),{json:{mediaId:e.mediaId},nonce:I});case 3:n=t.sent,g(n.data),d((function(e){return e-1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(e,t){return"CANNOT"===t.status?"".concat(t.name,": The Full-Size is too small to generate this size. A Full-Size of at least ").concat(t.required.width,"Ã—").concat(t.required.height," is required."):"PENDING"===t.status?"".concat(t.name,": The retina can be generated."):t.name};return React.createElement(gt.Z,{busy:p},React.createElement("div",{style:{display:"flex",alignItems:"center"}},r&&React.createElement(E._,{style:{marginLeft:0},title:"Generate",onClick:v},ht.GENERATE),i&&u&&u.filter((function(e){return"IGNORED"!==e.status&&"full-size"!==e.name})).map((function(e){return React.createElement(React.Fragment,null,React.createElement(Pt,{className:e.status.toLowerCase(),title:b(0,e)},e.shortname))})),l&&u&&u.filter((function(e){return"IGNORED"!==e.status&&"full-size"===e.name})).map((function(e){return React.createElement(React.Fragment,null,React.createElement(Pt,{className:e.status.toLowerCase(),title:b(0,e)},e.shortname))}))))};function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}var Nt;function jt(){jt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function p(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==Tt(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function zt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function At(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){zt(o,r,a,i,c,"next",e)}function c(e){zt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dt=wp.element,Bt=Dt.useState,Mt=Dt.useEffect,Gt=A.ZP.div(Nt||(Nt=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: block;\n  color: white;\n  padding: 8px 0px;\n  font-size: 10px;\n  text-align: center;\n  width: 24px;\n  height: 24px;\n  line-height: 8px;\n  margin-left: 2px;\n  margin-right: -6px;\n  box-sizing: border-box;\n  margin-bottom: 2px;\n  background: var(--neko-blue);\n  border-radius: 3px;\n  box-shadow: 0px 0px 3px white;\n  cursor: pointer;\n\n  &.disabled {\n    background: gray;\n  }\n\n  &.missing {\n    background: var(--neko-red);\n  }\n\n  &.cannot {\n    background: var(--neko-blue);\n    filter: opacity(0.5);\n  }\n\n  &.pending {\n    background: var(--neko-orange);\n  }\n\n  &.ignored {\n    background: gray;\n  }\n\n  &:last-child {\n    margin-right: 6px;\n  }\n"])));const Wt=function(e){var t=e.mutate,n=e.actionButton,r=void 0===n||n,o=e.displaySizes,i=void 0===o||o,c=e.displayFullSize,l=void 0===c||c,s=Ct(Bt(e.entry),2),u=s[0],m=s[1],f=Ct(Bt(!1),2),p=f[0],d=f[1],h=(0,be.cf)({concurrency:2}).runTask;Mt((function(){e.entry?m(e.entry):e.mediaId&&y(e.mediaId)}),[e.entry]);var y=function(){var e=At(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d((function(e){return e+1})),e.next=3,h(At(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.ZL)("".concat(k,"/webp_details"),{json:{mediaId:t},nonce:I}));case 1:case"end":return e.stop()}}),e)}))));case 3:n=e.sent,m(n.data),d((function(e){return e-1}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=At(jt().mark((function e(n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(n),t&&t();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var t=At(jt().mark((function t(){var n;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d((function(e){return e+1})),t.next=3,(0,a.ZL)("".concat(k,"/build_webp"),{json:{mediaId:e.mediaId},nonce:I});case 3:n=t.sent,g(n.data),d((function(e){return e-1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(e,t){return"CANNOT"===t.status?"".concat(t.name,": The Full-Size is too small to generate this size. A Full-Size of at least ").concat(t.required.width,"Ã—").concat(t.required.height," is required."):"PENDING"===t.status?"".concat(t.name,": The webp can be generated."):t.name};return React.createElement(gt.Z,{busy:p},React.createElement("div",{style:{display:"flex",alignItems:"center"}},r&&React.createElement(E._,{style:{marginLeft:0},title:"Generate",onClick:v},ht.GENERATE),i&&u&&u.filter((function(e){return"IGNORED"!==e.status&&"full-size"!==e.name})).map((function(e){return React.createElement(React.Fragment,null,React.createElement(Gt,{className:e.status.toLowerCase(),title:b(0,e)},e.shortname))})),l&&u&&u.filter((function(e){return"IGNORED"!==e.status&&"full-size"===e.name})).map((function(e){return React.createElement(React.Fragment,null,React.createElement(Gt,{className:e.status.toLowerCase(),title:b(0,e)},e.shortname))}))))};function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}var Zt,Vt,qt;function Ht(){Ht=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function p(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==Ut(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Yt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function $t(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Yt(o,r,a,i,c,"next",e)}function c(e){Yt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Kt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e){return function(e){if(Array.isArray(e))return Qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){if(e){if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(e,t):void 0}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function en(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var tn=wp.element,nn=tn.useState,rn=tn.useEffect,an=tn.useMemo,on=tn.useCallback,cn=!!N.full_size,ln=!!N.webp_full_size,sn=N.retina_sizes.length>0||cn,un=N.webp_sizes.length>0||N.webp_retina_sizes.length>0||ln,mn=N.sizes,fn=N.generate_avif?ht.AVIF:ht.WEBP,pn={width:40,height:40,objectFit:"cover",cursor:"pointer"},dn=[{accessor:"thumbnail_url",title:"",style:{width:16}},{accessor:"title_metadata",title:ht.TITLE_REPLACE,sortable:!0,style:{width:280}},{accessor:"metadata",title:"Thumbnails (Retina in Colors)",style:{width:400}},{accessor:"retina_full",title:"Retina Full-Size",visible:sn&&cn},{accessor:"webp_full",title:fn.TITLE+" Full-Size",visible:un&&ln},{accessor:"optimized",title:"Optimized"},{accessor:"actions",title:"Actions"}],hn={accessor:"id",by:"asc"},yn=A.ZP.div(Zt||(Zt=en(["\n  &.webp{\n    position: absolute;\n    bottom: 28px;\n    border-top: 4px solid var(--neko-blue);\n  }\n  \n  &.webp-retina{\n    position: absolute;\n    top: 28px;\n    border-bottom: 4px solid var(--neko-blue);\n  }\n  \n  width: 16px;\n  \n  border-radius: 30px;\n  margin-left: 6px;\n\n  &.missing,\n  &.disabled {\n    border-color: #a6ceea;\n  }\n\n  &.pending {\n    border-color: var(--neko-orange);\n  }\n"]))),gn=A.ZP.div(Vt||(Vt=en(["\n  display: flex;\n  align-items: center;\n\n  .retina {\n    height: 18px;\n    width: 18px;\n    border-radius: 5px;\n\n    margin-left: 4px;\n    margin-right: 4px;\n\n    &.EXISTS {\n      background: var(--neko-green);\n    }\n\n    &.PENDING {\n      margin-left: 2px;\n      margin-right: 2px;\n\n      width: 15px;\n      height: 15px;\n\n      background: var(--neko-blue);\n      border: 3px solid var(--neko-green) !important;\n    }\n\n    &.CANNOT {\n      margin-left: 2px;\n      margin-right: 2px;\n\n      width: 15px;\n      height: 15px;\n\n      background: var(--neko-blue);\n      border: 3px solid var(--neko-red) !important;\n    }\n\n    &.DISABLED {\n      background: var(--neko-blue);\n    }\n\n    &.EXISTS-DISABLED{\n      background: #86d1bf;\n    }\n\n    &.missing {\n      background: #a6ceea;\n    }\n\n    &.MISSING {\n      margin-left: 2px;\n      margin-right: 2px;\n\n      width: 15px;\n      height: 15px;\n\n      border: 3px solid rgb(166, 206, 234) !important;\n      background: rgb(94 137 167);\n    }\n\n    &.disabled {\n      background: #dca07e;\n    }\n\n  }\n\n  .webp {\n    height: 5px;\n    width: 18px;\n    margin: 0 4px;\n\n    border-radius: 5px;\n\n    &.EXISTS {\n      background: var(--neko-blue);\n    }\n\n    &.PENDING {\n      background: var(--neko-orange);\n    }\n\n    &.MISSING,\n    &.missing {\n      background: #a6ceea;\n    }\n\n  }\n\n}\n"]))),vn=A.ZP.div(qt||(qt=en(["\n  display: block;\n  color: white;\n  padding: 6px 0px;\n  font-size: 12px;\n  font-weight: bold;\n  text-align: center;\n  width: 25px;\n  height: 25px;\n  line-height: 8px;\n  margin-left: 2px;\n  box-sizing: border-box;\n  margin-bottom: 2px;\n  background: var(--neko-blue);\n  border: 2px solid var(--neko-blue);\n  border-radius: 4px;\n  box-shadow: 0px 0px 3px white;\n  cursor: pointer;\n\n  &.disabled {\n    background: #dca07e;\n    border-color: #dca07e;\n  }\n\n  &.missing{\n    background: #a6ceea;\n    border-color: #a6ceea;\n  }\n\n  &.pending {\n    background: var(--neko-orange);\n    border-color: var(--neko-orange);\n  }\n\n  &.retina-cannot {\n    border-color: var(--neko-red);\n  }\n\n  &.no-info {\n    border-color: rgb(166, 206, 234);\n    background: rgb(94 137 167);\n  }\n\n  &.retina-pending {\n    border-color: var(--neko-green);\n    animation: blinker 2s ease infinite;\n\n    @keyframes blinker {\n      50% {\n        filter: brightness(1.15);\n      }\n    }\n  }\n\n  &.retina {\n    border-color: var(--neko-green);\n    background: var(--neko-green);\n  }\n\n  &.retina-disabled {\n    border-color: var(--neko-green);\n    background: var(--neko-green);\n    opacity: 0.5;\n  }\n"]))),bn=function(e){var t=e.entry,n=e.webpEntry,r=e.webpRetinaEntry,a=e.metadata;if(!a.sizes||!a.file)return null;var o=Object.keys(a.sizes),i=mn.filter((function(e){return e.enabled})).map((function(e){return e.name})),c=o.filter((function(e){return!mn.find((function(t){return t.name===e}))})),l=O+"/"+a.file.replace(/[^/]*$/,"");return React.createElement(React.Fragment,null,[].concat(Xt(i),Xt(c)).map((function(e){var o=a.sizes[e],i=mn.find((function(t){return t.name===e})),c=t.find((function(t){return t.name===e})),s=function(e,t,n){var r=t||n,a=t?"missing":"disabled",o=(r.retina?"ENABLED":"DISABLED")+("disabled"===a?" (To Remove)":" (No Thumbnail)"),i=r.webp?"PENDING":"DISABLED",c=r.webp_retina?"PENDING":"DISABLED",l=t?t.name:e,s=t?t.shortname:n.shortname,u=t?t.width:n.width,m=t?t.height:n.height;return React.createElement(ve.u,{key:l,text:React.createElement(React.Fragment,null,"Size Name: ",l," (",s,")",React.createElement("br",null),"Dimension: ",u,"Ã—",m,React.createElement("br",null),React.createElement("br",null),React.createElement(gn,null," ",React.createElement("div",{class:"webp ".concat(i)})," ",fn.TITLE,": ",i),React.createElement(gn,null," ",React.createElement("div",{class:"retina ".concat(a)})," Retina: ",o),React.createElement(gn,null," ",React.createElement("div",{class:"webp ".concat(c)})," ",fn.TITLE," Retina: ",c))},React.createElement("div",{style:{position:"relative"}},React.createElement(vn,{className:a},s),"DISABLED"!==i&&React.createElement(yn,{className:"".concat(r.webp?"pending":"missing"," webp")}),"DISABLED"!==c&&React.createElement(yn,{className:"".concat(r.webp_retina?"pending":"missing"," webp-retina")})))};if(!o||"MISSING"===(null==c?void 0:c.status))return s(null,i,null);if(!i)return s(e,null,o);var u=!i.enabled,m=o.width,f=o.height,p=o.shortname,d=o.file,h=l+d,y=t.find((function(t){return t.name===e})),g=n.find((function(t){return t.name===e})),v=r.find((function(t){return t.name===e})),b="EXISTS"===(null==g?void 0:g.status),E="EXISTS"===(null==y?void 0:y.status),w="EXISTS"===(null==v?void 0:v.status),R=i.retina&&"PENDING"===(null==y?void 0:y.status),x=u||!i.webp?"disabled":i.webp&&"PENDING"===(null==g?void 0:g.status)?"pending":b?"":"missing",_=u||!i.webp_retina?"disabled":i.webp_retina&&"PENDING"===(null==v?void 0:v.status)?"pending":w?"":"missing",k=function(e,t){return e?null!=t?t:"MISSING":"DISABLED"},S="DISABLED"==k(i.retina,null==y?void 0:y.status)&&E?"EXISTS-DISABLED":k(i.retina,null==y?void 0:y.status),O=k(i.webp,null==g?void 0:g.status),L=k(i.webp_retina,null==v?void 0:v.status),P={isDisabled:"disabled",retinaPending:"retina-pending",retinaExisted:i.retina?"retina":"retina-disabled",CANNOT:"retina-cannot",MISSING:"no-info"},I="";return u?I=P.isDisabled:R?I=P.retinaPending:E?I=P.retinaExisted:S in P&&(I=P[S]),React.createElement(ve.u,{key:e,text:React.createElement(React.Fragment,null,"Size Name: ",e," (",p,")",React.createElement("br",null),"Dimension: ",m,"Ã—",f,React.createElement("br",null),React.createElement("br",null),React.createElement(gn,null," ",React.createElement("div",{class:"webp ".concat(O)})," ",fn.TITLE,": ",O),React.createElement(gn,null," ",React.createElement("div",{class:"retina ".concat(S)})," Retina: ",S),React.createElement(gn,null," ",React.createElement("div",{class:"webp ".concat(L)})," ",fn.TITLE," Retina: ",L))},React.createElement("div",{style:{position:"relative"}},React.createElement(vn,{className:I,onClick:function(){return e=h,void console.log(e);var e}},p),"DISABLED"!==O&&React.createElement(yn,{className:"".concat(x," webp")}),"DISABLED"!==L&&React.createElement(yn,{className:"".concat(_," webp-retina")})))})))};const En=function(){var e=ft(),t=e.entries,n=e.totalEntries,r=e.stats,o=e.busy,i=e.wr2xImageReplace,c=e.filterBy,l=e.modals,s=e.search,u=e.status,m=e.sort,p=e.page,d=e.limit,h=e.apiErrors,b=e.wr2xHideOptimize,w=e.wr2xHideRetinaColumn,R=ft(),x=R.mutateStats,_=R.mutateEntries,S=R.setFilter,O=R.toggleModal,L=R.setSearch,T=R.setStatus,N=R.setSort,j=R.setPage,z=R.setLimit,A=Jt(nn(),2),C=A[0],F=(A[1],Jt(nn([]),2)),D=F[0],B=F[1],M=Jt(nn(!1),2),G=M[0],W=M[1],U=Jt(nn(""),2),Z=U[0],V=U[1],q=Jt(nn(null),2),H=q[0],Y=q[1],$=(0,be.qj)(),J=o||G,X=b?dn.filter((function(e){return"optimized"!==e.accessor})):dn,K=i,Q=on((function(e,n){var r=Xt(t),a=r.findIndex((function(t){return t.ID===e}));r[a]=n,_({success:!0,data:r},!1),x()}),[t,_,x]);rn((function(){H&&O("showOriginalSize")}),[H]);var ee=function(e){var t=e.mediaId;return React.createElement(Ee.I,{height:40,width:40,iconSize:16,style:{marginRight:5},onFailure:function(e){alert(e.message)},onSuccess:function(e){O(null),Q(t,e.data),x()},apiUrl:"".concat(k,"/replace"),apiConfig:{json:{mediaId:t},nonce:I}})},te=function(e){var t=e.mediaId;return React.createElement(Ee.I,{height:40,width:40,iconSize:16,style:{marginRight:5,border:"1px solid #f0f0f0",borderRadius:4,background:"#f3f3f3"},onFailure:function(e){alert(e.message)},onSuccess:function(e){Q(t,e.data),x()},apiUrl:"".concat(k,"/upload_retina_fullsize"),apiConfig:{json:{mediaId:t},nonce:I}})},ne=an((function(){return t.map((function(e){var t=e.info.filter((function(e){return"EXISTS"===e.status&&"full-size"===e.name})).length>0,n=e.webp_info.filter((function(e){return"EXISTS"===e.status&&"full-size"===e.name})).length>0;return{id:e.ID,thumbnail_url:React.createElement("img",{src:"".concat(e.thumbnail_url,"?version=").concat(e.version),style:pn,onClick:function(){return t=e.url,void Y(t);var t}}),title_metadata:React.createElement("div",{style:{display:"flex",alignItems:"center"}},!!K&&React.createElement(ee,{mediaId:e.ID}),React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("a",{href:"post.php?post=".concat(e.ID,"&action=edit")},e.post_title),React.createElement("small",null,"Full-Size: ",e.metadata.width,"Ã—",e.metadata.height," (",e.filesize,")"))),metadata:React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(bn,{entry:e.info,webpEntry:e.webp_info,webpRetinaEntry:e.webp_retina_info,metadata:e.metadata})),retina_full:React.createElement("div",{style:{display:"flex",alignItems:"center"}},(cn||t)&&React.createElement("div",{style:{display:"flex",alignItems:"center"}},!t&&React.createElement(te,{mediaId:e.ID}),React.createElement(It,{actionButton:!1,displaySizes:!1,displayFullSize:!0,entry:e.info}))),webp_full:React.createElement("div",{style:{display:"flex",alignItems:"center"}},(ln||n)&&React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Wt,{actionButton:!1,displaySizes:!1,displayFullSize:!0,entry:e.webp_info}))),optimized:React.createElement("div",null,React.createElement(we.J,{icon:e.optimized?"check":"close",color:e.optimized?Re.ZP.green:Re.ZP.red,width:20,height:20}),e.optimized&&React.createElement(f.O,null,Math.floor((e.optimized.before-e.optimized.after)/e.optimized.before*1e4)/100,"%")),actions:React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex"}},!b&&React.createElement(E._,{className:"secondary",title:"Optimize the Image and Thumbnails",onClick:function(){return pe([e.ID])}},"Optimize"),React.createElement(E._,{title:"Regenerate Thumbnails, Metadata and Build Retina",icon:"cog",onClick:function(){return fe({ids:[e.ID]})}},"Thumbnails"),React.createElement(E._,{icon:"cog",title:"Build Retina Images",onClick:function(){return oe([e.ID])}},"Retina"),React.createElement(E._,{icon:"cog",title:"Build ".concat(fn.TITLE," Images"),onClick:function(){return ie([e.ID])}},fn.TITLE)),React.createElement("div",{style:{display:"flex",marginTop:"4px"}},t&&React.createElement(E._,{icon:"trash",className:"danger",onClick:function(){window.confirm("Are you sure?")&&le([e.ID])}},"Full-Size Retina"),n&&React.createElement(E._,{icon:"trash",className:"danger",onClick:function(){window.confirm("Are you sure?")&&se([e.ID])}},"Full-Size ",fn.TITLE),"issues"===c&&React.createElement(E._,{className:"secondary",onClick:function(){return ce(e.ID)}},"Ignore"),"ignored"===c&&React.createElement(E._,{className:"secondary",onClick:function(){return ce(e.ID)}},"Un-Ignore")))}}))}),[t]);rn((function(){B([]),N(hn),j(1)}),[c,s]),rn((function(){if(null!==$.busy&&(W($.busy),!$.busy)){var e=$.getErrorCount();e>0&&V("The process has finished, but ".concat(e," error(s) occurred (check your console).")),$.reset(),B([]),_(),x()}}),[$.busy]);var re=function(){var e=$t(Ht().mark((function e(t){var n;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.ZL)("".concat(k,"/get_all_ids"),{json:{issuesOnly:t},nonce:I});case 2:if((n=e.sent).success){e.next=6;break}return alert(n.message),e.abrupt("return",[]);case 6:return e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=$t(Ht().mark((function e(){return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,(0,a.ZL)("".concat(k,"/refresh"),{nonce:I});case 3:_(),x(),W(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=$t(Ht().mark((function e(){var t,n,r,o=arguments;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,T("Preparing..."),W(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,re(!0);case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$t(Ht().mark((function t(n){var r;return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T("Build Retina for #".concat(e)),t.next=3,(0,a.ZL)("".concat(k,"/build_retina"),{json:{mediaId:e},nonce:I,signal:n});case 3:return(r=t.sent).success?Q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,$.start(r);case 15:x();case 16:W(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=$t(Ht().mark((function e(){var t,n,r,o=arguments;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,T("Preparing..."),W(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,re(!0);case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$t(Ht().mark((function t(n){var r;return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T("Build ".concat(fn.TITLE," for #").concat(e)),t.next=3,(0,a.ZL)("".concat(k,"/build_webp"),{json:{mediaId:e},nonce:I,signal:n});case 3:return(r=t.sent).success?Q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,$.start(r);case 15:x();case 16:W(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=$t(Ht().mark((function e(t){var n;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,(0,a.ZL)("".concat(k,"/ignore"),{json:{mediaId:t},nonce:I});case 3:return(n=e.sent).success?(x(),_()):alert("Error!"),W(!1),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=$t(Ht().mark((function e(){var t,n,r,o=arguments;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,T("Preparing..."),W(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,re();case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$t(Ht().mark((function t(n){var r;return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T("Delete Full-Size Retina for #".concat(e)),t.next=3,(0,a.ZL)("".concat(k,"/delete_retina_fullsize"),{json:{mediaId:e},nonce:I,signal:n});case 3:return(r=t.sent).success?Q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,$.start(r);case 15:x();case 16:W(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=$t(Ht().mark((function e(){var t,n,r,o=arguments;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,T("Preparing..."),W(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,re();case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$t(Ht().mark((function t(n){var r;return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T("Delete Full-Size ".concat(fn.TITLE," for #").concat(e)),t.next=3,(0,a.ZL)("".concat(k,"/delete_webp_fullsize"),{json:{mediaId:e},nonce:I,signal:n});case 3:return(r=t.sent).success?Q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,$.start(r);case 15:x();case 16:W(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=$t(Ht().mark((function e(){var t,n,r,o=arguments;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,T("Preparing..."),W(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,re();case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$t(Ht().mark((function t(n){var r;return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T("Delete Retina for #".concat(e)),t.next=3,(0,a.ZL)("".concat(k,"/delete_retina"),{json:{mediaId:e},nonce:I,signal:n});case 3:return(r=t.sent).success?Q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,$.start(r);case 15:x();case 16:W(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=$t(Ht().mark((function e(){var t,n,r,o=arguments;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,T("Preparing..."),W(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,re();case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$t(Ht().mark((function t(n){var r;return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T("Delete ".concat(fn.TITLE," for #").concat(e)),t.next=3,(0,a.ZL)("".concat(k,"/delete_webp"),{json:{mediaId:e},nonce:I,signal:n});case 3:return(r=t.sent).success?Q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,$.start(r);case 15:x();case 16:W(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=$t(Ht().mark((function e(t){var n,r,o,i,c,l;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ids,r=void 0===n?null:n,o=t.optimized,i=void 0!==o&&o,T("Preparing..."),W(!0),console.log(r),!r){e.next=8;break}e.t0=r,e.next=11;break;case 8:return e.next=10,re();case 10:e.t0=e.sent;case 11:if(!(c=e.t0)){e.next=17;break}return l=c.map((function(e){return function(){var t=$t(Ht().mark((function t(n){var r;return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T("Regenerate #".concat(e)),t.next=3,(0,a.ZL)("".concat(k,"/regenerate"),{json:{mediaId:e,optimized:i},nonce:I,signal:n});case 3:return(r=t.sent).success?Q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=16,$.start(l);case 16:x();case 17:W(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=$t(Ht().mark((function e(){var t,n,r,o=arguments;return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,T("Preparing..."),W(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,re();case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$t(Ht().mark((function t(n){var r;return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T("Optimize #".concat(e)),t.next=3,(0,a.ZL)("".concat(k,"/optimize"),{json:{mediaId:e},nonce:I,signal:n});case 3:return(r=t.sent).success?Q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,$.start(r);case 15:x();case 16:W(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=React.createElement(React.Fragment,null,React.createElement(E._,{className:"secondary",onClick:function(){return window.open("https://meowapps.com/products/wp-retina-2x-pro/","_blank")}},"Get the Pro Version"),React.createElement(E._,{className:"primary",onClick:function(){return window.open("https://meowapps.com/wp-retina-2x/tutorial/","_blank")}},"Read the tutorial"));return React.createElement(y.s,{nekoErrors:[h]},React.createElement(g.B,{title:"Perfect Images | Dashboard",subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(E._,{className:"header",onClick:function(){return window.open("https://meowapps.com/wp-retina-2x/tutorial/","_blank")}},"Tutorial"),React.createElement(E._,{icon:"dashboard",className:"header",onClick:function(){return window.location.href="admin.php?page=wr2x_settings"}},"Settings"))),React.createElement(v.o,null,React.createElement(v.z,{fullWidth:!0},React.createElement(xe.H,{footer:!P&&de},React.createElement(f.O,{p:!0},"Welcome to the new version of the former WP Retina 2x, now ",React.createElement("b",null,"Perfect Images"),". The goal is to make your images sizes and thumbnails more manageable, with Retina support. Please let me know if this dashboard is not clear enough, or if you have ideas how to make it even better.")),React.createElement(_e.P,{style:{display:"flex",alignItems:"flex-start"}},React.createElement(E._,{onClick:function(){return ae()}},"Refresh Stats"),!J&&D.length>0&&React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4px"}},!b&&React.createElement(E._,{className:"secondary",onClick:function(){return pe(D)}},"Optimize for ",React.createElement("strong",null,D.length," Entries")),React.createElement(E._,{className:"secondary",onClick:function(){return oe(D)}},"Build Retina forÂ ",React.createElement("strong",null,D.length," Entries")),React.createElement(E._,{className:"secondary",title:"Regenerate Thumbnails, Metadata and Build Retina",onClick:function(){return fe({ids:D})}},"RegenerateÂ ",React.createElement("strong",null,D.length," Entries")),React.createElement(E._,{className:"secondary",title:"Regenerate Thumbnails, Metadata and Build Retina (Optimized)",onClick:function(){return fe({ids:D,optimized:!0})}},"RegenerateÂ ",React.createElement("strong",null,D.length," Entries"),"Â (Optimized)"),React.createElement(E._,{className:"secondary",onClick:function(){return ie(D)}},"Build ",fn.TITLE," forÂ ",React.createElement("strong",null,D.length," Entries"))),React.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"4px"}},React.createElement(E._,{className:"danger",onClick:function(){return ue(D)}},"Delete Retina forÂ ",React.createElement("strong",null,D.length," Entries")),React.createElement(E._,{className:"danger",onClick:function(){return me(D)}},"Delete ",fn.TITLE," forÂ ",React.createElement("strong",null,D.length," Entries")))),React.createElement("div",{style:{flex:1}},G&&React.createElement(ke.U,{status:function(e){return"".concat(u," (").concat(e,"%)")},busy:G,value:$.value,max:$.max,onStopClick:$.stop})),!J&&React.createElement(React.Fragment,null,React.createElement(Se.A,{name:"wr2x-search",onBlur:function(e){L(e)},value:s,onEnter:function(e){L(e)}}),!s&&React.createElement(we.J,{icon:"search",width:24,style:{position:"relative",left:-34,marginRight:-22},color:"#5a5a5a82"}),s&&React.createElement(we.J,{icon:"close",width:24,style:{position:"relative",left:-34,marginRight:-22},color:Re.ZP.blue,onClick:function(){L("")}})),!J&&0===D.length&&React.createElement(React.Fragment,null,React.createElement(Oe.j,{title:"Bulk Actions",style:{minWidth:180}},!b&&React.createElement(Oe.p,{className:"primary",onClick:function(){return pe()}},"Optimize for ",React.createElement("strong",null,"All Entries")),React.createElement(Oe.p,{className:"primary",onClick:function(){return oe()}},"Build Retina for ",React.createElement("strong",null,"All Issues")),React.createElement(Oe.p,{className:"primary",onClick:function(){return ie()}},"Build ",fn.TITLE," for ",React.createElement("strong",null,"All Issues")),React.createElement(Oe.p,{className:"primary",title:"Regenerate Thumbnails, Metadata and Build Retina",onClick:function(){return fe({})}},"Regenerate ",React.createElement("strong",null,"All Entries")),React.createElement(Oe.p,{className:"primary",title:"Regenerate Thumbnails, Metadata and Build Retina (Optimized)",onClick:function(){return fe({optimized:!0})}},"Regenerate All Entries  ",React.createElement("strong",null,"(Optimized)")),React.createElement(Oe.p,{className:"danger",onClick:function(){return ue()}},"Delete Retina for ",React.createElement("strong",null,"All")),React.createElement(Oe.p,{className:"danger",onClick:function(){return me()}},"Delete ",fn.TITLE," for ",React.createElement("strong",null,"All"))))),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10,marginBottom:10}},React.createElement(Le.h,{name:"wr2x-filter",value:c,busy:J,onChange:function(e){S(e),j(1)}},React.createElement(Le.S,{title:"All",value:"all",count:r.all}),!w&&React.createElement(Le.S,{title:"Retina Issues",value:"issues",count:r.issues}),!b&&React.createElement(Le.S,{title:"Optimize Issues",value:"optimizeIssues",count:r.optimizeIssues}),React.createElement(Le.S,{title:"Ignored",value:"ignored",count:r.ignored})),React.createElement(Pe.Q,{currentPage:p,limit:d,total:n,onCurrentPageChanged:function(e){return j(e)},onClick:function(e){return j(e)}})),React.createElement(Ie.a,{busy:J,data:ne,columns:X,sort:m,onSortChange:function(e,t){N({accessor:e,by:t})},onSelect:function(e){B([].concat(Xt(D),Xt(e)))},onUnselect:function(e){B(Xt(D.filter((function(t){return!e.includes(t)}))))},selectedItems:D,emptyMessage:React.createElement(React.Fragment,null,"It's all clean & nice here! ðŸ‘",React.createElement("br",null),"Why not trying to give a boost ot your DB with ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/",rel:"noreferrer"},"Database Cleaner"),"? ðŸ˜Œ")}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},React.createElement(Te.N,{name:"wr2x-limit",scrolldown:!0,value:d,onChange:function(e){z(e),j(1)}},React.createElement(Te.Z,{value:10,label:"10 items per page"}),React.createElement(Te.Z,{value:25,label:"25 items per page"}),React.createElement(Te.Z,{value:50,label:"50 items per page"}),React.createElement(Te.Z,{value:100,label:"100 items per page"}),React.createElement(Te.Z,{value:250,label:"250 items per page"})),React.createElement(Pe.Q,{currentPage:p,limit:d,total:n,onClick:function(e){return j(e)}}))),React.createElement(Ne.L,{isOpen:l.uploadRetinaFullsize,onRequestClose:function(){O(null)},title:"Upload Retina for Full-Size",content:React.createElement(React.Fragment,null,React.createElement(Ee.I,{height:200,onFailure:function(e){alert(e.message)},onSuccess:function(e){O(null),Q(C,e.data),x()},apiUrl:"".concat(k,"/upload_retina_fullsize"),apiConfig:{json:{mediaId:C},nonce:I}}),React.createElement("p",{style:{marginTop:20,marginBottom:-20}},"Drop your image here! If the thumbnails could not be created before, the plugin will also use this image to create the missing Retina Images."))}),React.createElement(Ne.L,{isOpen:l.showOriginalSize,onRequestClose:function(){O("showOriginalSize",!1),setTimeout((function(){return Y(null)}),500)},title:"",content:React.createElement(React.Fragment,null,React.createElement("img",{src:H,style:{maxWidth:"100%"}}))}),React.createElement(Ne.L,{isOpen:Z,title:"Success",content:Z,okButton:{label:"Close",onClick:function(){V(""),$.reset()}}})))};var wn=n(3506);function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function xn(){xn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function p(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==Rn(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function _n(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function kn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_n(o,r,a,i,c,"next",e)}function c(e){_n(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ln,Pn,In=wp.element,Tn=In.useState,Nn=In.useEffect,jn="".concat(_,"/meow-licenser/").concat(R,"/v1"),zn=function(){var e=Sn(Tn(!1),2),t=e[0],n=e[1],r=Sn(Tn(!1),2),o=r[0],i=r[1],c=Sn(Tn(null),2),l=c[0],s=c[1],u=Sn(Tn(null),2),m=u[0],p=u[1],d=Sn(Tn(""),2),h=d[0],y=d[1],g=P&&(!m||"valid"!==m.license),v=function(){var e=kn(xn().mark((function e(){var t;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,(0,a.PV)("".concat(jn,"/get_license"),{method:"POST",nonce:I});case 5:t=e.sent,p(t.data),t.data.key&&y(t.data.key),n(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=kn(xn().mark((function e(){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,a.PV)("".concat(jn,"/set_license"),{method:"POST",nonce:I,json:{serialKey:null}});case 3:e.sent.success&&(y(""),p(null),s("licenseRemoved")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=kn(xn().mark((function e(){var t;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,a.PV)("".concat(jn,"/set_license"),{method:"POST",nonce:I,json:{serialKey:h,override:!0}});case 3:(t=e.sent).success&&(p(t.data),t.data&&!t.data.issue&&s("licenseAdded")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=kn(xn().mark((function e(){var t;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==h){e.next=5;break}return i(!0),p(null),y(""),e.abrupt("return");case 5:return n(!0),e.next=8,(0,a.PV)("".concat(jn,"/set_license"),{method:"POST",nonce:I,json:{serialKey:h}});case 8:(t=e.sent).success&&(p(t.data),t.data&&!t.data.issue&&s("licenseAdded")),n(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Nn((function(){v()}),[]);var _=g?"Forced License":P?"Enabled":"Disabled",k=g||m&&"valid"===m.license,S="Your license is active. Thanks a lot for your support :)";g&&(S="This license has been force-enabled for you.",m&&m.check_url&&(S=React.createElement(React.Fragment,null,React.createElement("span",null,S),React.createElement("br",null),React.createElement("small",null,"To check your license status, please click ",React.createElement("a",{target:"_blank",href:m.check_url+"&cache="+642e3*Math.random(),rel:"noreferrer"},"here"),".")))),k||(m?"no_activations_left"===m.issue?S=React.createElement("span",null,"There are no activations left for this license. You can visit your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===m.issue?S=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),"."):"missing"===m.issue?S="This license does not exist.":"disabled"===m.issue?S="This license has been disabled.":"item_name_mismatch"===m.issue?S="This license seems to be for a different plugin... isn't it? :)":"forced"===m.issue?S="ABC":(S=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:m})):S="Unknown error :(");var O=React.createElement(w.v,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps"),"."),T=React.createElement(w.v,{title:"Pro Version (".concat(_,")"),busy:t,className:"primary"},!g&&!(m&&m.key===h)&&React.createElement(React.Fragment,null,React.createElement("div",{style:{marginBottom:10}},"License Key:"),React.createElement(Se.A,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:h,onChange:function(e){return y(e)},placeholder:"Type your license key..."}),React.createElement(f.O,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button.")),m&&!k&&React.createElement(wn.S,{variant:"danger"},S),(g||m)&&k&&React.createElement(wn.S,{variant:"success"},S),React.createElement("div",{style:{marginTop:15,display:"flex",justifyContent:"end"}},m&&!k&&React.createElement(E._,{className:"secondary",disabled:t||!h,onClick:x},"Retry to validate"),m&&m.key===h&&React.createElement(E._,{className:"secondary",disabled:t||!h,onClick:b},"Remove License"),React.createElement(E._,{disabled:t||!h||m&&m.key===h,onClick:x},"Validate License"),o&&!k&&React.createElement(E._,{disabled:t||!h||m&&m.key===h,onClick:R,className:"danger"},"Force License")),React.createElement(Ne.L,{isOpen:"licenseAdded"===l,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}),React.createElement(Ne.L,{isOpen:"licenseRemoved"===l,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}));return L?T:O};function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==An(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==An(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===An(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bn(e){return function(e){if(Array.isArray(e))return Vn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(){Mn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function p(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==An(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=R(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function Gn(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Wn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Gn(o,r,a,i,c,"next",e)}function c(e){Gn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Zn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zn(e,t){if(e){if("string"==typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(e,t):void 0}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Hn=wp.element,Yn=Hn.useState,$n=Hn.useEffect,Jn=Hn.useMemo,Xn=Hn.useCallback,Kn=function(e,t){if(0==e)return"0 Bytes";var n=t||2,r=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]},Qn=[{label:"No",value:"no"},{label:"Yes (Center)",value:"yes"},{label:"Left-Top",value:"left-top"},{label:"Left-Center",value:"left-center"},{label:"Left-Bottom",value:"left-bottom"},{label:"Center-Top",value:"center-top"},{label:"Center-Center",value:"center-center"},{label:"Center-Bottom",value:"center-bottom"},{label:"Right-Top",value:"right-top"},{label:"Right-Center",value:"right-center"},{label:"Right-Bottom",value:"right-bottom"}],er=A.ZP.div(Ln||(Ln=qn(["\n  display: flex;\n  align-items: center;\n\n  p {\n    margin: 0 0 0 4px;\n    line-height: 2;\n  }\n"]))),tr=A.ZP.div(Pn||(Pn=qn(["\n  display: flex;\n  align-items: center;\n  align-contents: stretch;\n\n  & > p {\n    width: 50px;\n  }\n"]))),nr={marginTop:10,background:"rgb(0, 72, 88)",padding:10,color:"rgb(58, 212, 58)",maxHeight:400,minHeight:200,display:"block",fontFamily:"monospace",fontSize:12,whiteSpace:"pre",overflowX:"auto",borderRadius:10,textWrap:"balance"};const rr=function(){var e=Un(Yn(!1),2),t=e[0],n=e[1],r=Un(Yn(!1),2),o=r[0],i=r[1],c=Un(Yn(!1),2),l=c[0],s=c[1],u=Un(Yn(null),2),m=u[0],d=u[1],_=Un(Yn(null),2),S=_[0],O=_[1],z=Un(Yn(null),2),A=z[0],C=z[1],F=Un(Yn(N),2),D=F[0],B=F[1],M=Un(Yn(""),2),G=M[0],W=M[1],U=Un(Yn(!1),2),Z=U[0],V=U[1],q=Un(Yn(null),2),H=q[0],Y=q[1],$=t,J=Un(Yn(""),2),X=J[0],K=J[1],Q=function(){var e=Wn(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),e.next=4,(0,a.PV)("".concat(k,"/get_logs"),{nonce:I,method:"GET"});case 4:t=e.sent,K(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:return e.prev=11,n(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Wn(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),e.next=4,(0,a.PV)("".concat(k,"/clear_logs"),{nonce:I});case 4:K(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.message);case 10:return e.prev=10,n(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),te=D.method,ne=D.webp_method,re=D.sizes,ae=D.retina_sizes,oe=D.disabled_sizes,ie=D.webp_sizes,ce=D.webp_retina_sizes,le=D.full_size,se=D.webp_full_size,ue=D.picturefill_keep_src,me=D.picturefill_lazysizes,fe=D.picturefill_css_background,pe=D.picturefill_noscript,de=D.auto_generate,he=D.webp_auto_generate,ye=D.over_http_check,ge=D.debug,be=D.disable_responsive,Ee=D.cdn_domain,Re=D.big_image_size_threshold,_e=D.module_retina_enabled,ke=D.module_optimize_enabled,Oe=D.module_ui_enabled,Le=D.module_webp_enabled,Pe=D.hide_retina_column,Ie=D.hide_retina_dashboard,je=D.hide_optimize,ze=D.image_replace,Ae=D.easyio_domain,Ce=D.easyio_lossless,Fe="none"===te,De=D.gif_thumbnails_disabled,Be=D.custom_image_sizes,Me=D.generate_avif,Ge=Me?ht.AVIF:ht.WEBP,We=Jn((function(){return Array.from(new Set([].concat(Bn(j),Bn(Be.map((function(e){return e.name}))))))}),[Be]),Ue=Xn((function(e){return We.includes(e)}),[We]),Ze=Xn(function(){var e=Wn(Mn().mark((function e(t){var n,r,a,o,i,c,l;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.isNew,r=t.name,a=t.width,o=t.height,i=t.crop,c=Bn(Be),n?c.push({name:r,width:a,height:o,crop:i}):(l=c.findIndex((function(e){return e.name===r})),c[l]={name:r,width:a,height:o,crop:i}),e.next=5,qe(c,"custom_image_sizes");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Be]),Ve=Xn(function(){var e=Wn(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bn(Be.filter((function(e){return e.name!==t}))),e.next=3,qe(n,"custom_image_sizes");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Be]),qe=function(){var e=Wn(Mn().mark((function e(t,r){var o,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Fn(Fn({},D),{},Dn({},r,t)),n(!0),e.prev=2,e.next=5,(0,a.ZL)("".concat(k,"/update_option"),{json:{options:o},nonce:I});case 5:(i=e.sent).success&&B(i.options),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0.message);case 12:n(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=Wn(Mn().mark((function e(t){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,(0,a.ZL)("".concat(k,"/update_option"),{json:{options:t},nonce:I});case 4:(r=e.sent).success&&B(r.options),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.message);case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Wn(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,(0,a.wY)("".concat(k,"/all_settings"),null,null,I);case 4:(t=e.sent).success&&B(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.message);case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),$e=[{value:"Responsive",label:React.createElement("span",null,"Responsive Images")},{value:"Picturefill",label:React.createElement("span",null,"Picturefill (Hybrid)")},{value:"retina.js",label:React.createElement("span",null,"Retina.js (Client-side)")},{value:"HTML Rewrite",label:React.createElement("span",null,"HTML Rewrite (Not Recommended)")},{value:"Retina-Images",label:React.createElement("span",null,"Retina-Images (Not Recommended)")},{value:"none",label:React.createElement("span",null,"None")}],Je=[{value:"Responsive",label:React.createElement("span",null,"Responsive Images")},{value:"none",label:React.createElement("span",null,"None")}],Xe=Jn((function(){return["retina.js","HTML Rewrite","Retina-Images"].includes(te)}),[te]),Ke=function(){var e=Wn(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ae){e.next=7;break}return e.next=4,(0,a.ZL)("".concat(k,"/easy_io_stats"),{nonce:I});case 4:null!=(t=e.sent)&&t.stats.original&&null!=t&&t.stats.savings&&O(t.stats),null!=t&&t.stats.bandwidth&&null!=t&&t.stats.quota&&C(t.stats);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Wn(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n("options");try{(t=document.createElement("input")).type="file",t.accept="application/json",t.onchange=function(){var e=Wn(Mn().mark((function e(t){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:(r=new FileReader).onload=function(){var e=Wn(Mn().mark((function e(t){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(t.target.result),r=n.options,e.next=4,He(r);case 4:alert("Settings imported. The page will now reload to reflect the changes."),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.readAsText(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.click()}catch(e){alert("Error while importing settings. Please check your console."),console.log(e)}finally{n(!1)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();$n((function(){Ke()}),[Ae]);var et,tt=function(){var e=Wn(Mn().mark((function e(t,n){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t?Bn(oe.filter((function(e){return e!==n}))):[].concat(Bn(oe),[n]),qe(r,"disabled_sizes");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nt=function(){var e=Wn(Mn().mark((function e(t,n){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t?[].concat(Bn(ae),[n]):Bn(ae.filter((function(e){return e!==n}))),qe(r,"retina_sizes");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rt=function(){var e=Wn(Mn().mark((function e(t,n){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t?[].concat(Bn(ie),[n]):Bn(ie.filter((function(e){return e!==n}))),qe(r,"webp_sizes");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),at=function(){var e=Wn(Mn().mark((function e(t,n){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t?[].concat(Bn(ce),[n]):Bn(ce.filter((function(e){return e!==n}))),qe(r,"webp_retina_sizes");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ot=function(){var e=Wn(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,(0,a.ZL)("".concat(k,"/easy_io_link"),{nonce:I});case 4:Ye(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert(e.t0.message);case 10:n(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Wn(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,(0,a.ZL)("".concat(k,"/easy_io_unlink"),{nonce:I});case 4:Ye(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert(e.t0.message);case 10:n(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Wn(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),s(!1),i(!0),e.prev=3,e.next=6,(0,a.PV)("".concat(k,"/check_optimizers"),{nonce:I});case 6:if((t=e.sent).data){e.next=10;break}return s(!0),e.abrupt("return");case 10:t.message&&W(t.message),d(t.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),alert(e.t0.message);case 17:return e.prev=17,i(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(){return e.apply(this,arguments)}}(),lt=React.createElement(p.r,null,React.createElement("table",{style:{width:"100%"}},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{textAlign:"left"}}),React.createElement("th",{style:{textAlign:"left"}},"Name"),React.createElement("th",{style:{textAlign:"left"}},"Dimensions"),React.createElement("th",{style:{textAlign:"left"}},"Enable"),React.createElement("th",{style:{textAlign:"left"}},"Retina"))),React.createElement("tbody",null,re&&re.map((function(e){return React.createElement("tr",{key:"webp-sizes-"+e.name},React.createElement("td",null,e.shortname),React.createElement("td",{style:{color:"#007cb9"}},e.name),React.createElement("td",null,e.width?React.createElement(React.Fragment,null,e.width,"x",e.height):React.createElement("small",null,"Unknown (disabled)")),React.createElement("td",null,React.createElement(h.P,{name:"webp-"+e.name,disabled:$||!e.enabled,value:"1",checked:e.webp,onChange:function(){return rt(!e.webp,e.name)}})),React.createElement("td",null,React.createElement(h.P,{name:"webp-retina-"+e.name,disabled:$||!e.retina_enabled,value:"1",checked:e.webp_retina,onChange:function(){return at(!e.webp_retina,e.name)}})))}))))),st=React.createElement(p.r,null,React.createElement("table",{style:{width:"100%"}},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{textAlign:"left"}}),React.createElement("th",{style:{textAlign:"left"}},"Name"),React.createElement("th",{style:{textAlign:"left"}},"Dimensions"),React.createElement("th",{style:{textAlign:"left"}},"Retina"))),React.createElement("tbody",null,re&&re.map((function(e){return React.createElement("tr",{key:"retina-sizes-"+e.name},React.createElement("td",null,e.shortname),React.createElement("td",{style:{color:"#007cb9"}},e.name),React.createElement("td",null,e.width?React.createElement(React.Fragment,null,e.width,"x",e.height):React.createElement("small",null,"Unknown (disabled)")),React.createElement("td",null,React.createElement(h.P,{name:"retina-"+e.name,disabled:$||!e.enabled,value:"1",checked:e.retina,onChange:function(){return nt(!e.retina,e.name)}})))}))))),ut=React.createElement(p.r,null,React.createElement("table",{style:{width:"100%"}},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{textAlign:"left"}}),React.createElement("th",{style:{textAlign:"left"}},"Name"),React.createElement("th",{style:{textAlign:"left"}},"Dimensions"),React.createElement("th",{style:{textAlign:"left"}},"Enabled"))),React.createElement("tbody",null,re&&re.map((function(e){return React.createElement("tr",{key:"sizes-"+e.name},React.createElement("td",null,e.shortname),React.createElement("td",{style:{color:"#007cb9"}},e.name),React.createElement("td",null,e.width?React.createElement(React.Fragment,null,e.width,"x",e.height):React.createElement("small",null,"Unknown (disabled)")),React.createElement("td",null,React.createElement(h.P,{name:"enabled-"+e.name,disabled:$,value:"1",checked:e.enabled,onChange:function(){return tt(!e.enabled,e.name)}})))}))))),mt=React.createElement(p.r,{title:"Delivery Method"},React.createElement(Te.N,{scrolldown:!0,name:"method",disabled:$,value:te,description:"",onChange:qe},$e.map((function(e){return React.createElement(Te.Z,{key:e.id,id:e.id,value:e.value,label:e.label,requirePro:e.requirePro})})))),ft=React.createElement(p.r,{title:"Delivery Method"},React.createElement(Te.N,{scrolldown:!0,name:"webp_method",disabled:$,value:ne,description:"",onChange:qe},Je.map((function(e){return React.createElement(Te.Z,{key:e.id,id:e.id,value:e.value,label:e.label,requirePro:e.requirePro})})))),pt=React.createElement(p.r,{title:"Full-Size Retina"},React.createElement(h.P,{name:"full_size",disabled:$,label:"Enable",description:React.createElement(React.Fragment,null,"Enable Retina for Full-Size. A ",React.createElement("i",null,"Upload Retina for Full-Size")," button is also added in the ",React.createElement("i",null,"Perfect Images Dashboard"),"."),value:"1",requirePro:!P,checked:le,onChange:qe})),dt=React.createElement(p.r,{title:Ge.TITLE+" Full-Size"},React.createElement(h.P,{name:"webp_full_size",disabled:$,label:"Enable",description:React.createElement(React.Fragment,null,"Will generate the ",Ge.TITLE," version of the Full-Size images automatically. Will add a column in the dashboard to see the status of the Full-size ",Ge.TITLE," images."),value:"1",requirePro:!P,checked:se,onChange:qe})),yt=React.createElement(p.r,{title:"Keep IMG SRC"},React.createElement(h.P,{name:"picturefill_keep_src",disabled:$,label:"Enable",description:React.createElement(React.Fragment,null,"With PictureFill, ",React.createElement("b",null,"src")," tags are replaced by ",React.createElement("b",null,"src-set")," tags, but Google might fail to reference those images. This option will keep the SRC for SEO purpose, but that will force the download of two images (standard, then retina) by the browsers. Please use the ",React.createElement("b",null,"Lazy Retina")," option below as it avoid this to happen (as well as making it loading lazily)."),value:"1",checked:ue,onChange:qe})),gt=React.createElement(p.r,{title:"Responsive Images"},React.createElement(h.P,{name:"picturefill_lazysizes",disabled:$,label:"Enable Lazy",description:React.createElement(React.Fragment,null,"Images (including Retina Images) will not be loaded until the visitor gets closer to them. The result will be a ",React.createElement("b",null,"faster")," website that consumes less bandwidth."),value:"1",requirePro:!P,checked:me,onChange:qe})),vt=Jn((function(){return l?React.createElement(wn.S,{variant:"danger"},(0,a.io)(ht.DASHBOARD.OPTIMIZER_NO_ALLOW_EXEC)):null===m?null:Object.keys(m).map((function(e){return React.createElement(er,{key:e},React.createElement(we.J,{icon:m[e].result?"check":"close",width:16,height:16}),React.createElement(f.O,{p:!0},e),m[e].message&&React.createElement(ve.u,{text:m[e].message},React.createElement(we.J,{icon:"info-outline",width:16,height:16,style:{marginLeft:"4px"}})))}))}),[m,l,G]),bt=React.createElement(p.r,{title:"CSS Background"},React.createElement(h.P,{name:"picturefill_css_background",disabled:$,label:"Retina-ize",description:React.createElement(React.Fragment,null,"In your HTML, inline CSS Background will be replaced by the Retina version of the image."),value:"1",requirePro:!P,checked:fe,onChange:qe})),Et=React.createElement(p.r,{title:"Polyfill Script"},React.createElement(h.P,{name:"picturefill_noscript",disabled:$,label:"Do not load",description:React.createElement(React.Fragment,null,"Only ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://caniuse.com/srcset"},"the browsers with src-set support")," will display Retina images. You can also choose this if you want to load the Picturefill Polyfill script manually or if it is already loaded by your theme."),value:"1",checked:pe,onChange:qe})),wt=React.createElement(p.r,{title:"Retina Images"},React.createElement(h.P,{name:"auto_generate",disabled:$,label:"Build Automatically",description:React.createElement(React.Fragment,null,"The Retina Images will be built automatically every time the thumbnails as generated or regenerated."),value:"1",checked:de,onChange:qe})),Rt=React.createElement(p.r,{title:Ge.TITLE+" Images"},React.createElement(h.P,{name:"webp_auto_generate",disabled:$,label:"Build Automatically",description:React.createElement(React.Fragment,null,"The ",Ge.TITLE," Images will be built automatically every time the thumbnails as generated or regenerated."),value:"1",checked:he,onChange:qe})),xt=React.createElement(p.r,{title:"Over HTTP Check"},React.createElement(h.P,{name:"over_http_check",disabled:$,label:"Enable",description:React.createElement(React.Fragment,null,"This will check the existence of retina images on remote servers. This is useful if your images are hosted on a different server than your WordPress. ",ye?React.createElement("b",null,"This option slows down processing dramatically; therefore, caching is absolutely necessary."):""),value:"1",requirePro:!P,checked:!Fe&&ye,onChange:qe})),_t=React.createElement(p.r,{title:"Debug"},React.createElement(h.P,{name:"debug",disabled:$,label:"Force Retina + Logging",description:React.createElement(React.Fragment,null,"Force-display retina and creates a log file in the upload folder. Only use this for debugging purposes."),value:"1",checked:ge,onChange:qe})),kt=React.createElement(w.v,{title:"Logs",busy:$,className:"primary",action:React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(E._,{color:"#005883",onClick:ee},"Clear Logs"))},React.createElement(E._,{onClick:Q},"Refresh Logs"),React.createElement("div",{style:nr},X)),St=React.createElement(p.r,{title:"Responsive Images"},React.createElement(h.P,{name:"disable_responsive",disabled:$,label:"Disable",description:React.createElement(React.Fragment,null,"Disable the natural Responsive Images feature built in WordPress. For developers only."),value:"1",checked:be,onChange:qe})),Ot=React.createElement(p.r,{title:"GIF Thumbnails"},React.createElement(h.P,{name:"gif_thumbnails_disabled",disabled:$,label:"Disable",value:"1",checked:De,onChange:qe})),Lt=React.createElement(p.r,{title:"CDN Domain",requirePro:!P},React.createElement(Se.A,{name:"cdn_domain",type:"text",disabled:$,value:Ee,onEnter:qe,onBlur:qe,description:React.createElement(React.Fragment,null,"If not empty, your site domain will be replaced with this CDN domain.")})),Pt=React.createElement(React.Fragment,null,React.createElement(w.v,{busy:$,title:"Maintenance",className:"primary",style:{display:"flex"}},React.createElement(E._,{className:"primary",onClick:function(){n("options");try{var e=new Date,t={options:D},r="perfect-images-".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate(),".json"),a=new Blob([JSON.stringify(t)],{type:"application/json"}),o=URL.createObjectURL(a),i=document.createElement("a");i.href=o,i.setAttribute("download",r),i.click()}catch(e){alert("Error while exporting settings. Please check your console."),console.log(e)}finally{n(!1)}}},"Export Settings"),React.createElement(E._,{className:"danger",onClick:Qe},"Import Settings"))),It=React.createElement(React.Fragment,null,React.createElement(p.r,{title:"Status"},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("div",{style:{marginBottom:5}},React.createElement(f.O,null,Ae&&React.createElement("div",null,React.createElement("b",null,"Easy IO is active."),React.createElement("br",null),React.createElement("small",null,"This is your CDN domain: ",Ae,".")),!Ae&&React.createElement("b",null,"Not linked with Easy IO."),!Ae&&React.createElement("ul",null,React.createElement("li",null,"1. Check the offer and create your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://ewww.io/easy-perfect/ref/6/?campaign=EasyPerfect"},"Perfect Images + Easy IO"),"."),React.createElement("li",null,"2. Use the [",React.createElement("b",null,"PERFECT20"),"] coupon and you will get ",React.createElement("b",null,"20% off"),"."),React.createElement("li",null,"3. Register this website [",React.createElement("b",null,T),"] in the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://ewww.io/manage-sites/"},"Easy IO Dashboard"),"."),React.createElement("li",null,"4. Click on the button below, and it's all done! ðŸ")))),Ae&&React.createElement("div",null,React.createElement(E._,{className:"danger",onClick:it},"Disable Easy IO")),!Ae&&React.createElement("div",null,React.createElement(E._,{onClick:ot},"Verify & Enable Easy IO"))))),Tt=Ae?React.createElement(p.r,{title:"Stats"},React.createElement("div",{style:{display:"flex",flexDirection:"column",fontSize:14}},React.createElement(f.O,null,React.createElement("span",null,"Bandwidth Usage: "),!A&&React.createElement("span",null,"N/A"),A&&React.createElement("span",null,Kn(A.bandwidth)," of ",Kn(A.quota)," (",Math.round(A.bandwidth/A.quota*100)+"%",")")),React.createElement(f.O,null,React.createElement("span",null,"Image Size Reduction: "),!S&&React.createElement("span",null,"N/A"),S&&React.createElement("span",null,Math.round(S.savings/S.original*100)+"%")))):null,Nt=Ae?React.createElement(p.r,{title:"Lossless Quality"},React.createElement(h.P,{name:"easyio_lossless",disabled:!Ae||$,label:"Enable",description:React.createElement(React.Fragment,null,"Make sure that the visual quality of your images is the same as the original, while still being optimized."),value:"1",checked:Ce,onChange:qe})):null,jt=React.createElement(p.r,{title:"Image Threshold"},React.createElement(h.P,{name:"big_image_size_threshold",disabled:$,label:"Disable",value:"1",checked:Re,onChange:qe})),zt=React.createElement(React.Fragment,null,React.createElement(p.r,{title:"Retina"},React.createElement(h.P,{name:"module_retina_enabled",disabled:$,label:"Enabled",value:"1",checked:_e,onChange:qe})),React.createElement(p.r,{title:"Optimize"},React.createElement(h.P,{name:"module_optimize_enabled",disabled:$,label:"Enabled",value:"1",checked:ke,onChange:qe})),React.createElement(p.r,{title:"UI"},React.createElement(h.P,{name:"module_ui_enabled",disabled:$,label:"Enabled",value:"1",checked:Oe,onChange:qe})),React.createElement(p.r,{title:"Optimized Images"},React.createElement(h.P,{name:"module_webp_enabled",disabled:$,label:"Enabled",value:"1",checked:Le,onChange:qe,description:React.createElement(React.Fragment,null,"This will enable the WebP feature. It will generate WebP images automatically and replace the original images with them. This will also add a column in the dashboard to see the status of the WebP images. You can also replace this with the AVIF format.")})),Le&&React.createElement(p.r,{title:"Use AVIF"},React.createElement(h.P,{name:"generate_avif",disabled:$,label:"Enabled",value:"1",checked:Me,onChange:qe,description:React.createElement(React.Fragment,null,"Will generate the AVIF version of the images automatically, this will replace WEBP.")}))),At=React.createElement(p.r,{title:"Image Replace"},React.createElement(h.P,{name:"image_replace",disabled:$,label:"Enable",description:React.createElement(React.Fragment,null,"You will then be able to drag & drop an image to replace another in the Perfect Images Dashboard."),value:"1",checked:ze,onChange:qe})),Ct=React.createElement(p.r,{title:"Retina Column"},React.createElement(h.P,{name:"hide_retina_column",disabled:$,label:"Enable",description:React.createElement(React.Fragment,null,"Add a ",React.createElement("i",null,"Retina")," column in the Media Library."),value:"1",checked:!Pe,onChange:function(e,t){return qe(!e,t)}})),Ft=React.createElement(p.r,{title:"Dashboard"},React.createElement(h.P,{name:"hide_retina_dashboard",disabled:$,label:"Enable",description:React.createElement(React.Fragment,null,"Activate the ",React.createElement("i",null,"Perfect Images Dashboard"),". From there, you can do lot of things!"),value:"1",checked:!Ie,onChange:function(e,t){return qe(!e,t)}})),Dt=React.createElement(p.r,{title:"Optimize Features"},React.createElement(h.P,{name:"hide_optimize",disabled:!0,label:"Enable  (Beta)",description:React.createElement(React.Fragment,null,"Show the ",React.createElement("i",null,"Optimize Column")," and the related buttons in the Media Library. Those features will work with the binaries and libraries provided by your server, if available."),value:"1",checked:!je,onChange:function(e,t){return qe(!e,t)}}));return React.createElement(y.s,null,React.createElement(g.B,{title:"Perfect Images + Retina | Settings",subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(E._,{className:"header",onClick:function(){return window.open("https://meowapps.com/wp-retina-2x-tutorial/","_blank")}},"Tutorial"),!Ie&&React.createElement(E._,{icon:"dashboard",className:"header",onClick:function(){return window.location.href="admin.php?page=wr2x_dashboard"}},"Dashboard"))),React.createElement(v.o,null,React.createElement(v.z,{fullWidth:!0},React.createElement(xe.H,null,React.createElement(f.O,{p:!0},"Perfect Images works out of the box. However, to make your install really nice and smooth, you should really take a look at the ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/wp-retina-2x/tutorial/"},"tutorial"),". Take a bit of time and you will enjoy managing your images with WordPress even more! :)")),Xe&&React.createElement(wn.S,{variant:"danger",style:{marginBottom:25}},"The Delivery Method you are using (",te,") will be removed soon. Please switch to ",React.createElement("b",null,"None"),", ",React.createElement("b",null,"Responsive Images")," or ",React.createElement("b",null,"Picturefill")," instead. If you absolutely need this delivery method, visit ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/support/topic/delivery-methods-for-retina-images/#new-topic-0"},"this link"),"."),me&&React.createElement(wn.S,{variant:"danger",style:{marginBottom:25}},"You enabled Lazy Loading, but this option is now useless as it is included in WordPress. Please check if works without it. If you absolutely need this option, visit ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://wordpress.org/support/topic/is-anyone-using-the-lazy-loading-feature/#new-topic-0"},"this link"),"."),React.createElement(b.c,{keepTabOnReload:!0,callOnTabChangeFirst:!0,onChange:function(e,t){"Optimize"!==t.title||m||l||ct()}},React.createElement(b.P,{title:"General"},React.createElement(v.o,null,React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,title:"Image Sizes",className:"primary"},React.createElement(f.O,{p:!0},"In this screen, you can disable sizes not only the default sizes added by WordPress, but also the ones added by your theme or other plugins."),ut),React.createElement(w.v,{busy:$,title:"Custom Image Sizes",className:"primary"},React.createElement(p.r,null,React.createElement(E._,{onClick:function(){Y({isNew:!0}),V(!0)}},"Add New"),Be.length>0&&React.createElement("table",{style:{width:"100%"}},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{textAlign:"left"}},"Name"),React.createElement("th",{style:{textAlign:"left"}},"Dimensions"),React.createElement("th",{style:{textAlign:"left"}},"Crop"),React.createElement("th",null))),React.createElement("tbody",null,Be.map((function(e){return React.createElement("tr",{key:e.name},React.createElement("td",{style:{color:"#007cb9"}},e.name),React.createElement("td",null,e.width,"x",e.height),React.createElement("td",null,e.crop),React.createElement("td",null,React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(we.J,{icon:"pencil",onClick:function(){Y(Fn(Fn({},e),{},{isNew:!1})),V(!0)}}),React.createElement(we.J,{icon:"trash",onClick:Wn(Mn().mark((function t(){return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure?")){t.next=3;break}return t.next=3,Ve(e.name);case 3:case"end":return t.stop()}}),t)})))}))))}))))))),React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,title:"Big Image Threshold",className:"primary"},React.createElement(f.O,{p:!0},"Since WordPress 5.3, images bigger than 2560px are resized automatically and renamed with ",React.createElement("i",null,"-scaled"),". To learn more about this, have a look at this article: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/wordpress-images-sizes/#The_Big_Image_Treshold"},"The WordPress Image Sizes"),"."),jt),React.createElement(w.v,{busy:$,title:"Modules",className:"primary"},zt)))),Oe&&React.createElement(b.P,{title:"UI"},React.createElement(v.o,null,React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,title:"UI Features",className:"primary"},Ft,Ct,Dt,At)),React.createElement(v.z,{minimal:!0}))),_e&&React.createElement(b.P,{title:"Retina"},React.createElement(v.o,null,React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,title:"Image Sizes",className:"primary"},React.createElement(f.O,{p:!0},"For each of those sizes, you can choose whether or not you would like the Retina image to be generated for it."),st,wt),React.createElement(w.v,{busy:$,title:"For Full Size",className:"primary"},pt)),React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,title:"Basics",className:"primary"},React.createElement(f.O,{p:!0},"This controls how the retina images are integrated into your content and delivered to your visitors. The ",React.createElement("b",null,"Responsive Images")," method is recommended. If your theme and plugins are not using WordPress latest evolutions, you might have to try ",React.createElement("b",null,"PictureFill")," or ",React.createElement("b",null,"Retina.js"),"."),mt,xt)),"Picturefill"===te&&React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,title:"PictureFill",className:"primary"},yt,bt,Et)))),Le&&React.createElement(b.P,{title:Ge.TITLE},React.createElement(v.o,null,React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,title:"Image Sizes",className:"primary"},React.createElement(f.O,{p:!0},"For each of those sizes, you can choose whether or not you would like the ",Ge.TITLE," image to be generated for it."),lt,Rt),React.createElement(w.v,{busy:$,title:"For Full Size",className:"primary"},dt)),React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,title:"Basics",className:"primary"},React.createElement(f.O,{p:!0},"This controls how the ",Ge.TITLE," images are integrated into your content and delivered to your visitors. The ",React.createElement("b",null,"Responsive Images")," method is recommended."),ft)))),ke&&React.createElement(b.P,{title:"Optimize"},React.createElement(v.o,null,React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,title:"Perfect Images + Easy IO",className:"primary"},!Ae&&React.createElement(f.O,{p:!0},"Are you interested in optimizing your images (including ",Ge.TITLE,") without slowing down your own server, while using a powerful CDN? This all-in-one solution now exists and is very affordable thanks to an unique partnership between Meow Apps and Easy IO (EWWW). More information is available ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/wp-retina-2x-tutorial/#Optimize_your_Images_and_Use_a_CDN",rel:"noreferrer"},"here"),"."),It,Tt,Nt)),React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,title:"Lazy Loading",className:"primary"},React.createElement(f.O,{p:!0},"Since WordPress 5.5, images are automatically lazy, and it is also using a feature included in the modern browser. It is recommended to use this new feature instead of customized one (through other plugins, or this option) since it is using no script and does not require any modification. If there is an problem with it, you can still enable the option below."),gt),React.createElement(w.v,{busy:$||o,title:"Optimizers",className:"primary"},G&&React.createElement(wn.S,{variant:"danger",style:{marginBottom:"8px"}},G),vt)))),React.createElement(b.P,{title:"Advanced"},React.createElement(v.o,null,React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,className:"primary"},St,Ot),React.createElement(w.v,{busy:$,className:"primary"},React.createElement(f.O,{p:!0},"If you are using a CDN, enter your CDN subdomain here. If you are using Easy IO CDN, you don't need this, and you can directly use the options available in ",React.createElement("i",null,"Optimization & Speed"),"."),Lt),Pt),React.createElement(v.z,{minimal:!0},React.createElement(w.v,{busy:$,className:"primary"},_t),ge&&kt))),React.createElement(b.P,{title:"Pro Version"},React.createElement(zn,{domain:x,prefix:R,isPro:L,isRegistered:P}))))),React.createElement(Ne.L,{isOpen:Z,onRequestClose:function(){V(!1),Y(null)},title:"".concat(null!=H&&H.isNew?"Add":"Edit"," Custom Image Size"),content:React.createElement("div",{style:{display:"flex",gap:"8px",flexDirection:"column"}},React.createElement(tr,null,React.createElement(f.O,{p:!0},"Name"),null!=H&&H.isNew?React.createElement(Se.A,{name:"name",type:"text",disabled:$,value:null==H?void 0:H.name,onBlur:function(e){Y(Fn(Fn({},H),{},{name:e})),Ue(e)&&Y(Fn(Fn({},H),{},{nameError:"This name already exists. Please change the name."}))}}):React.createElement(f.O,{p:!0},null==H?void 0:H.name)),(null==H?void 0:H.nameError)&&React.createElement(f.O,{p:!0,style:{color:"red"}},H.nameError),React.createElement(tr,null,React.createElement(f.O,{p:!0},"Width"),React.createElement(Se.A,{name:"width",type:"text",disabled:$,value:null==H?void 0:H.width,onChange:function(e){return Y(Fn(Fn({},H),{},{width:e}))}}),React.createElement(f.O,{p:!0,style:{marginLeft:"4px"}},"px")),React.createElement(tr,null,React.createElement(f.O,{p:!0},"Height"),React.createElement(Se.A,{name:"height",type:"text",disabled:$,value:null==H?void 0:H.height,onChange:function(e){return Y(Fn(Fn({},H),{},{height:e}))}}),React.createElement(f.O,{p:!0,style:{marginLeft:"4px"}},"px")),React.createElement(tr,null,React.createElement(f.O,{p:!0},"Crop"),React.createElement(Te.N,{scrolldown:!0,name:"crop",disabled:$,value:null==H?void 0:H.crop,onChange:function(e){return Y(Fn(Fn({},H),{},{crop:e}))},style:{width:"200px"}},Qn.map((function(e){return React.createElement(Te.Z,{key:e.value,id:e.value,value:e.value,label:e.label})}))))),okButton:{onClick:(et=Wn(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(H);case 2:V(!1),Y(null);case 4:case"end":return e.stop()}}),e)}))),function(){return et.apply(this,arguments)}),disabled:(null==H?void 0:H.nameError)||!(null!=H&&H.name)||!(null!=H&&H.width)||!(null!=H&&H.height)||!(null!=H&&H.crop)}}))},ar=function(){return React.createElement(React.Fragment,null,React.createElement("h1",{style:{marginTop:20}},"Upload New Retina Image"),React.createElement("p",null,"The Retina Image you upload here will become your Retina Image for Full-Size. Automatically, WP Retina 2x will generate the normal Full-Size image which will be basically divided by two. The thumbnails and retina thumbnails will also be generated based on your options. ",React.createElement("b",null,"For now, this uploader only works with one by one file.")),React.createElement(Ee.I,{style:{border:"4px dashed #b4b9be"},height:200,onFailure:function(e){alert(e.message)},onSuccess:function(){alert("Uploaded!")},apiUrl:"".concat(k,"/upload_retina"),apiConfig:{nonce:I}}))};function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ir=wp.element,cr=ir.useState,lr=ir.useMemo;const sr=function(e){var t,n,r=e.mediaId,a=e.type,i=void 0===a?"link":a,c=(t=cr(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?or(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],s=c[1],u=function(){return s(!0)},m=lr((function(){return"button"===i?React.createElement(E._,{title:"Replace this image with new one.",onClick:u},"Replace Image"):React.createElement(f.O,{span:!0,onClick:u,style:{margin:0,color:"#135e96",cursor:"pointer"}},"Replace Image")}),[i]);return N.image_replace?React.createElement(React.Fragment,null,m,React.createElement(o.Z,null,React.createElement(Ne.L,{id:"neko-modal-action-link-".concat(r),isOpen:l,onRequestClose:function(){s(!1)},title:"Replace the image",content:React.createElement(React.Fragment,null,React.createElement(Ee.I,{height:200,onFailure:function(e){return alert(e.message)},onSuccess:function(){return window.location.reload(!0)},apiUrl:"".concat(k,"/replace"),apiConfig:{json:{mediaId:r},nonce:I}}),React.createElement("p",{style:{marginTop:20,marginBottom:-20}},"Drop your image here! It will replace the current one with the new one."))}))):null};var ur=wp.element.render,mr={fetcher:a.SG,revalidateOnFocus:!1};function fr(){Array.from(document.getElementsByClassName("wr2x-retina-field")).forEach((function(e){var t=e.getAttribute("data-id");ur(React.createElement(r.J$,{value:mr},React.createElement(i,null,React.createElement(It,{natural:!0,mediaId:t}))),e)}))}document.addEventListener("DOMContentLoaded",(function(){var e,t;new window.MutationObserver((function(){fr()})).observe(document.documentElement,{childList:!0,subtree:!0}),(e=document.getElementById("wr2x-admin-settings"))&&ur(React.createElement(r.J$,{value:mr},React.createElement(i,null,React.createElement(rr,null))),e),(t=document.getElementById("wr2x-dashboard"))&&ur(React.createElement(r.J$,{value:mr},React.createElement(i,null,React.createElement(mt,null,React.createElement(En,null)))),t),fr(),function(){var e=document.getElementById("wr2x-fullsize-uploader");e&&ur(React.createElement(r.J$,{value:mr},React.createElement(i,null,React.createElement(ar,null))),e)}(),Array.from(document.getElementsByClassName("wr2x-action-link")).forEach((function(e){var t=e.getAttribute("data-id");ur(React.createElement(sr,{mediaId:t}),e)})),function(){wp.media&&wp.media.view.Modal.prototype.on("open",(function(){setTimeout((function(){Array.from(document.getElementsByClassName("wr2x-replace-image-button")).forEach((function(e){var t=e.getAttribute("data-id");ur(React.createElement(i,null,React.createElement(sr,{mediaId:t,type:"button"})),e)}))}),0)}));var e=document.getElementById("wr2x-metabox-item");if(e){var t=e.getAttribute("data-id");ur(React.createElement(i,null,React.createElement(sr,{mediaId:t,type:"button"})),e)}}();var n=document.getElementById("meow-common-dashboard");n&&ur(React.createElement(i,null,React.createElement(ge,null)),n)}))},7363:e=>{e.exports=React},1533:e=>{e.exports=ReactDOM}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,a,o]=e[u],c=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(c=!1,o<i&&(i=o));if(c){e.splice(u--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,c,l]=n,s=0;if(i.some((t=>0!==e[t]))){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(l)var u=l(r)}for(t&&t(n);s<i.length;s++)o=i[s],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.wpJsonWr2x=self.wpJsonWr2x||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a=r.O(void 0,[736],(()=>r(356)));a=r.O(a)})();
//# sourceMappingURL=index.js.map