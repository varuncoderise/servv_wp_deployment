!function(e){function t(t){for(var r,i,l=t[0],o=t[1],s=t[2],m=0,d=[];m<l.length;m++)i=l[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(u&&u(t);d.length;)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,l=1;l<n.length;l++){var o=n[l];0!==a[o]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.wpJsonWr2x=window.wpJsonWr2x||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=o;c.push([142,1]),n()}({0:function(e,t){e.exports=React},133:function(e,t){e.exports=ReactDOM},142:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(2),c=n(4),i=n(0),l=wr2x_retina.prefix,o=wr2x_retina.domain,s=wr2x_retina.rest_url.replace(/\/+$/,""),u=wr2x_retina.api_url.replace(/\/+$/,""),m=wr2x_retina.plugin_url.replace(/\/+$/,""),d=wr2x_retina.upload_url.replace(/\/+$/,""),f="1"===wr2x_retina.is_pro,p=f&&"1"===wr2x_retina.is_registered,h=wr2x_retina.rest_nonce,g=(wr2x_retina.home_url.replace(/\/+$/,""),wr2x_retina.site_url.replace(/\/+$/,"")),y=wr2x_retina.retina_sizes,b=!!wr2x_retina.full_size;function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,r,a,c,i){try{var l=e[c](i),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){_(c,r,a,i,l,"next",e)}function l(e){_(c,r,a,i,l,"throw",e)}i(void 0)}))}}var S,O,P={issues:"-",ignored:"-",all:"-"},T=0,I={filterBy:"issues",page:1,limit:10,busy:!1,stats:P,sort:{accessor:"id",by:"asc"},search:"",apiErrors:null,status:"",entries:[],totalEntries:0,wr2xSizes:[],wr2xRetinaSizes:null,wr2xCisabledSizes:null,wr2xMethod:null,wr2xFullSize:!1,wr2xPicturefillKeepSrc:!1,wr2xPicturefillLazysizes:!1,wr2xPicturefillCssBackground:!1,wr2xPicturefillNoscript:!1,wr2xAutoGenerate:!1,wr2xOverHttpCheck:!1,wr2xDebug:!1,wr2xDisableResponsive:!1,wr2xImageReplace:!1,wr2xCdnDomain:"",wr2xEasyioDomain:"",wr2xEasyioLossless:"",wr2xBigImageSizeThreshold:!1,wr2xHideRetinaColumn:!1,wr2xHideRetinaDashboard:!1,modals:{uploadRetinaFullsize:!1},mutateEntries:(O=k(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return O.apply(this,arguments)}),mutateStats:(S=k(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return S.apply(this,arguments)})},j=function(e,t){switch(t.type){case"ENTRIES_UPDATED":var n=t.entries;return w(w({},e),{},{entries:n});case"TOTAL_ENTRIES_UPDATED":var r=t.totalEntries;return w(w({},e),{},{totalEntries:r});case"STATS_UPDATED":var a=t.stats;return w(w({},e),{},{stats:a});case"SETTINGS_UPDATED":var c,i,l,o,s,u,m,d,f,p,h,g,y,b,R,E,v,x=t.settings,_=null!==(c=x.wr2x_sizes)&&void 0!==c?c:[],k=x.wr2x_retina_sizes,S=x.wr2x_disabled_sizes,O=x.wr2x_method,P=null!==(i=x.wr2x_full_size)&&void 0!==i&&i,j=null!==(l=x.wr2x_picturefill_keep_src)&&void 0!==l&&l,A=null!==(o=x.wr2x_picturefill_lazysizes)&&void 0!==o&&o,D=null!==(s=x.wr2x_picturefill_css_background)&&void 0!==s&&s,C=null!==(u=x.wr2x_picturefill_noscript)&&void 0!==u&&u,z=null!==(m=x.wr2x_auto_generate)&&void 0!==m&&m,N=null!==(d=x.wr2x_over_http_check)&&void 0!==d&&d,M=null!==(f=x.wr2x_debug)&&void 0!==f&&f,F=null!==(p=x.wr2x_disable_responsive)&&void 0!==p&&p,B=null!==(h=x.wr2x_image_replace)&&void 0!==h&&h,U=null!==(g=x.wr2x_cdn_domain)&&void 0!==g?g:"",L=null!==(y=x.wr2x_easyio_domain)&&void 0!==y?y:"",W=null!==(b=x.wr2x_easyio_lossless)&&void 0!==b?b:"",G=null!==(R=x.wr2x_big_image_size_threshold)&&void 0!==R&&R,q=null!==(E=x.wr2x_hide_retina_column)&&void 0!==E&&E,H=null!==(v=x.wr2x_hide_retina_dashboard)&&void 0!==v&&v;return w(w({},e),{},{wr2xSizes:_,wr2xRetinaSizes:k,wr2xCisabledSizes:S,wr2xMethod:O,wr2xFullSize:P,wr2xPicturefillKeepSrc:j,wr2xPicturefillLazysizes:A,wr2xPicturefillCssBackground:D,wr2xPicturefillNoscript:C,wr2xAutoGenerate:z,wr2xOverHttpCheck:N,wr2xDebug:M,wr2xDisableResponsive:F,wr2xImageReplace:B,wr2xCdnDomain:U,wr2xEasyioDomain:L,wr2xEasyioLossless:W,wr2xBigImageSizeThreshold:G,wr2xHideRetinaColumn:q,wr2xHideRetinaDashboard:H});case"ERROR_UPDATED":var J=t.apiErrors;return w(w({},e),{},{apiErrors:J});case"PAGE_UPDATED":var Y=t.page;return w(w({},e),{},{page:Y});case"SET_ENTRIES_MUTATE":var K=t.mutateEntries;return w(w({},e),{},{mutateEntries:K});case"SET_STATS_MUTATE":var $=t.mutateStats;return w(w({},e),{},{mutateStats:$});case"LIMIT_UPDATED":var V=t.limit;return w(w({},e),{},{limit:V});case"FILTER_UPDATED":var X=t.filter;return w(w({},e),{},{filterBy:X});case"SORT_UPDATED":var Q=t.sort;return w(w({},e),{},{sort:Q});case"SEARCH_UPDATED":var Z=t.search;return w(w({},e),{},{search:Z});case"STATUS_UPDATED":var ee=t.status;return w(w({},e),{},{status:ee});case"TOGGLE_MODAL":var te=t.modal,ne=t.enable;if(!te){var re=w({},e);return re.modals=w({},I.modals),re}if(void 0===e.modals[te])return alert("The modal ".concat(te," doesn't exist.")),e;void 0===ne&&(ne=!e.modals[te]);var ae=w({},e);return ae.modals=w({},ae.modals),ae.modals[te]=ne,ae;case"PUSH_BUSY":return w(w({},e),{},{busy:++T>0});case"POP_BUSY":return w(w({},e),{},{busy:--T>0});default:return e}},A=Object(i.createContext)(),D=function(e){var t=e.children,n=R(Object(i.useReducer)(j,I),2),c=n[0],l=n[1],o=c.filterBy,s=c.limit,m=c.page,d=c.sort,f=c.search,p=Object(i.useMemo)((function(){return[Object(a.H)("".concat(u,"/media"),{limit:s,skip:(m-1)*s,filterBy:o,orderBy:d.accessor,order:d.by,search:f}),{headers:{"X-WP-Nonce":h}}]}),[o,s,m,d,f,u,h,a.H]),g=Object(i.useMemo)((function(){return[Object(a.H)("".concat(u,"/stats"),{search:f}),{headers:{"X-WP-Nonce":h}}]}),[f,u,h,a.H]),y=Object(i.useMemo)((function(){return["".concat(u,"/all_settings/"),{headers:{"X-WP-Nonce":h}}]}),[u,h]),b=Object(r.b)(p,a.I),E=b.data,v=b.mutate;Object(i.useEffect)((function(){l({type:"SET_ENTRIES_MUTATE",mutateEntries:v})}),[v]),Object(i.useEffect)((function(){l({type:"SET_STATS_MUTATE",mutateStats:D})}),[D]);var w=Object(a.K)(E,[],!0),x=w.busy,_=w.data,k=w.total,S=w.error;Object(i.useEffect)((function(){l({type:x?"PUSH_BUSY":"POP_BUSY"})}),[x]),Object(i.useEffect)((function(){l({type:"ENTRIES_UPDATED",entries:_})}),[_]),Object(i.useEffect)((function(){l({type:"TOTAL_ENTRIES_UPDATED",totalEntries:k})}),[k]),Object(i.useEffect)((function(){l({type:"ERROR_UPDATED",apiError:S})}),[S]);var O=Object(r.b)(g,a.I),T=O.data,D=O.mutate,C=Object(a.K)(T,P,!0),z=C.busy,N=C.data,M=C.error;Object(i.useEffect)((function(){l({type:z?"PUSH_BUSY":"POP_BUSY"})}),[z]),Object(i.useEffect)((function(){l({type:"STATS_UPDATED",stats:N})}),[N]),Object(i.useEffect)((function(){l({type:"ERROR_UPDATED",apiError:M})}),[M]);var F=Object(r.b)(y,a.I).data,B=Object(a.K)(F,{},!0),U=B.busy,L=B.data,W=B.error;return Object(i.useEffect)((function(){l({type:U?"PUSH_BUSY":"POP_BUSY"})}),[U]),Object(i.useEffect)((function(){l({type:"SETTINGS_UPDATED",settings:L})}),[L]),Object(i.useEffect)((function(){l({type:"ERROR_UPDATED",apiError:W})}),[W]),React.createElement(A.Provider,{value:[c,l]},t)},C=function(){var e={},t=R(Object(i.useContext)(A),2),n=t[0],r=t[1];return e.setStatus=function(e){r({type:"STATUS_UPDATED",status:e})},e.setPage=function(e){r({type:"PAGE_UPDATED",page:e})},e.setLimit=function(e){r({type:"LIMIT_UPDATED",limit:e})},e.setFilter=function(e){r({type:"FILTER_UPDATED",filter:e})},e.setSort=function(e){r({type:"SORT_UPDATED",sort:e})},e.setSearch=function(e){r({type:"SEARCH_UPDATED",search:e})},e.toggleModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;r({type:"TOGGLE_MODAL",modal:e,enable:t})},e.pushBusy=function(){r({type:"PUSH_BUSY"})},e.popBusy=function(){r({type:"POP_BUSY"})},w(w({},n),e)},z=wp.i18n.__,N={};N.GENERATE=z("Generate","wp-retina-2x"),N.DASHBOARD=z("Dashboard","wp-retina-2x"),N.PENDING=z("Pending","wp-retina-2x"),N.RENAMED=z("Renamed","wp-retina-2x"),N.ALL=z("All","wp-retina-2x"),N.THUMB=z("Thumb","wp-retina-2x"),N.TITLE_REPLACE=z("Replace / Title / Size","wp-retina-2x"),N.ATTACHED_TO=z("Attached To","wp-retina-2x"),N.FILENAME=z("Filename","wp-retina-2x");var M=N;function F(e,t,n,r,a,c,i){try{var l=e[c](i),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){F(c,r,a,i,l,"next",e)}function l(e){F(c,r,a,i,l,"throw",e)}i(void 0)}))}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: block;\n  color: white;\n  padding: 8px 0px;\n  font-size: 10px;\n  text-align: center;\n  width: 24px;\n  height: 24px;\n  line-height: 8px;\n  margin-left: 2px;\n  margin-right: -6px;\n  box-sizing: border-box;\n  margin-bottom: 2px;\n  background: ",";\n  border-radius: 25px;\n  box-shadow: 0px 0px 3px white;\n  cursor: pointer;\n\n  &.disabled {\n    background: gray;\n  }\n\n  &.missing {\n    background: ",";\n  }\n\n  &.cannot {\n    background: ",";\n  }\n\n  &.pending {\n    background: ",";\n  }\n\n  &.ignored {\n    background: gray;\n  }\n\n  &:last-child {\n    margin-right: 6px;\n  }\n"]);return W=function(){return e},e}var G=wp.element,q=G.useState,H=G.useEffect,J=c.a.div(W(),a.B.blue,a.B.red,a.B.red,a.B.orange),Y=function(e){var t=e.mutate,n=e.actionButton,r=void 0===n||n,c=e.displaySizes,i=void 0===c||c,l=e.displayFullSize,o=void 0===l||l,s=U(q(e.entry),2),m=s[0],d=s[1],f=U(q(!1),2),p=f[0],g=f[1],y=Object(a.L)({concurrency:2}).runTask;H((function(){e.entry?d(e.entry):e.mediaId&&b(e.mediaId)}),[e.entry]);var b=function(){var e=B(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g((function(e){return e+1})),e.next=3,y(B(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.J)("".concat(u,"/details"),{json:{mediaId:t},nonce:h}));case 1:case"end":return e.stop()}}),e)}))));case 3:n=e.sent,d(n.data),g((function(e){return e-1}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=B(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(n),t&&t();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var t=B(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g((function(e){return e+1})),t.next=3,Object(a.J)("".concat(u,"/build_retina"),{json:{mediaId:e.mediaId},nonce:h});case 3:n=t.sent,R(n.data),g((function(e){return e-1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(e,t){return"CANNOT"===t.status?"".concat(t.name,": The Full-Size is too small to generate this size. A Full-Size of at least ").concat(t.required.width,"×").concat(t.required.height," is required."):"PENDING"===t.status?"".concat(t.name,": The retina can be generated."):t.name};return React.createElement(a.b,{busy:p},React.createElement("div",{style:{display:"flex",alignItems:"center"}},r&&React.createElement(a.c,{style:{marginLeft:0},title:"Generate",onClick:E},M.GENERATE),i&&m&&m.filter((function(e){return"IGNORED"!==e.status&&"full-size"!==e.name})).map((function(e){return React.createElement(React.Fragment,null,React.createElement(J,{className:e.status.toLowerCase(),title:v(0,e)},e.shortname))})),o&&m&&m.filter((function(e){return"IGNORED"!==e.status&&"full-size"===e.name})).map((function(e){return React.createElement(React.Fragment,null,React.createElement(J,{className:e.status.toLowerCase(),title:v(0,e)},e.shortname))}))))};function K(e,t,n,r,a,c,i){try{var l=e[c](i),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){K(c,r,a,i,l,"next",e)}function l(e){K(c,r,a,i,l,"throw",e)}i(void 0)}))}}function V(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}return n}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: block;\n  color: white;\n  padding: 8px 0px;\n  font-size: 10px;\n  text-align: center;\n  width: 24px;\n  height: 24px;\n  line-height: 8px;\n  margin-left: 2px;\n  margin-right: -6px;\n  box-sizing: border-box;\n  margin-bottom: 2px;\n  background: ",";\n  border-radius: 25px;\n  box-shadow: 0px 0px 3px white;\n  cursor: pointer;\n\n  &.disabled {\n    background: #a6ceea;\n  }\n\n  &.missing {\n    background: ",";\n  }\n\n  &.cannot {\n    background: ",";\n  }\n\n  &.pending {\n    background: ",";\n  }\n\n  &.ignored {\n    background: #a6ceea;\n  }\n\n\n"]);return ee=function(){return e},e}var te=wp.element,ne=te.useState,re=te.useEffect,ae=te.useMemo,ce=te.useCallback,ie=y.length>0||b,le={width:40,height:40,objectFit:"cover"},oe=[{accessor:"thumbnail_url",title:"",style:{width:16}},{accessor:"title_metadata",title:M.TITLE_REPLACE,sortable:!0,style:{width:280}},{accessor:"metadata",title:"Thumbnails (Retina in Colors)",style:{width:280}},{accessor:"retina_full",title:"Retina for Full-Size",visible:ie&&b},{accessor:"actions",title:"Actions"}],se={accessor:"id",by:"asc"},ue=c.a.div(ee(),a.B.blue,a.B.red,a.B.red,a.B.orange),me=function(e){var t=e.entry,n=e.metadata;if(!n.sizes||!n.file)return null;var r=Object.keys(n.sizes),c=d+"/"+n.file.replace(/[^/]*$/,"");return React.createElement(React.Fragment,null,r.map((function(e){var r=n.sizes[e],i=r.width,l=r.height,o=r.shortname,s=r.file,u=c+s,m=t.find((function(t){return t.name===e}));return React.createElement(a.D,{text:React.createElement(React.Fragment,null,"Size Name: ",e," (",o,")",React.createElement("br",null),"Dimension: ",i,"×",l,React.createElement("br",null),"Retina: ",m?m.status:"MISSING")},React.createElement(ue,{className:m?m.status.toLowerCase():"missing",onClick:function(){return e=u,void console.log(e);var e}},o))})))},de=function(){var e=C(),t=e.entries,n=e.totalEntries,r=e.stats,c=e.busy,i=e.wr2xImageReplace,l=e.filterBy,o=e.modals,s=e.search,m=e.status,d=e.sort,f=e.page,g=e.limit,y=e.apiErrors,R=C(),E=R.mutateStats,v=R.mutateEntries,w=R.setFilter,x=R.toggleModal,_=R.setSearch,k=R.setStatus,S=R.setSort,O=R.setPage,P=R.setLimit,T=X(ne(),2),I=T[0],j=(T[1],X(ne([]),2)),A=j[0],D=j[1],z=X(ne(!1),2),N=z[0],M=z[1],F=X(ne(""),2),B=F[0],U=F[1],L=Object(a.M)(),W=c||N,G=i?parseInt(i):0,q=ce((function(e,n){var r=V(t),a=r.findIndex((function(t){return t.ID===e}));r[a]=n,v({success:!0,data:r},!1),E()}),[t,v,E]),H=function(e){var t=e.mediaId;return React.createElement(a.F,{height:40,width:40,iconSize:16,style:{marginRight:5},onFailure:function(e){alert(e.message)},onSuccess:function(e){x(null),q(t,e.data),E()},apiUrl:"".concat(u,"/replace"),apiConfig:{json:{mediaId:t},nonce:h}})},J=function(e){var t=e.mediaId;return React.createElement(a.F,{height:40,width:40,iconSize:16,style:{marginRight:5},onFailure:function(e){alert(e.message)},onSuccess:function(e){q(t,e.data),E()},apiUrl:"".concat(u,"/upload_retina_fullsize"),apiConfig:{json:{mediaId:t},nonce:h}})},K=ae((function(){return t.map((function(e){var t,n,r,c=e.info.filter((function(e){return"EXISTS"===e.status&&"full-size"===e.name})).length>0;e.info.filter((function(e){return"MISSING"===e.status||"CANNOT"===e.status})).length;return{id:e.ID,thumbnail_url:React.createElement("img",{src:"".concat(e.thumbnail_url,"?version=").concat(e.version),style:le}),title_metadata:React.createElement("div",{style:{display:"flex",alignItems:"center"}},!!G&&React.createElement(H,{mediaId:e.ID}),React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("a",{href:"post.php?post=".concat(e.ID,"&action=edit")},e.post_title),React.createElement("small",null,"Full-Size: ",e.metadata.width,"×",e.metadata.height," (",e.filesize,")"))),metadata:React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(me,(t={entry:e,metadata:e.metadata},n="entry",r=e.info,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))),retina_full:React.createElement("div",{style:{display:"flex",alignItems:"center"}},(b||c)&&React.createElement("div",{style:{display:"flex",alignItems:"center"}},!c&&React.createElement(J,{mediaId:e.ID}),React.createElement(Y,{actionButton:!1,displaySizes:!1,displayFullSize:!0,entry:e.info}))),actions:React.createElement("div",{style:{textAlign:"right"}},React.createElement(a.c,{title:"Regenerate Thumbnails, Metadata and Build Retina",onClick:function(){return de([e.ID])}},"Build Thumbnails"),React.createElement(a.c,{onClick:function(){return ee([e.ID])}},"Build Retina"),c&&React.createElement(a.c,{onClick:function(){confirm("Are you sure?")&&ie([e.ID])}},"Delete ",React.createElement("small",null,"Full-Size Retina")),"issues"===l&&React.createElement(a.c,{onClick:function(){return te(e.ID)}},"Ignore"),"ignored"===l&&React.createElement(a.c,{onClick:function(){return te(e.ID)}},"Un-Ignore"))}}))}),[t]);re((function(){D([]),S(se),O(1)}),[l,s]),re((function(){if(null!==L.busy&&(M(L.busy),!L.busy)){var e=L.getErrorCount();e>0&&U("The process has finished, but ".concat(e," error(s) occurred (check your console).")),L.reset(),D([]),v(),E()}}),[L.busy]);var Q=function(){var e=$(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.J)("".concat(u,"/get_all_ids"),{json:{issuesOnly:t},nonce:h});case 2:if((n=e.sent).success){e.next=6;break}return alert(n.message),e.abrupt("return",[]);case 6:return e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=$(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,Object(a.J)("".concat(u,"/refresh"),{nonce:h});case 3:v(),E(),M(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=$(regeneratorRuntime.mark((function e(){var t,n,r,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,k("Preparing..."),M(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,Q(!0);case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k("Build Retina for #".concat(e)),t.next=3,Object(a.J)("".concat(u,"/build_retina"),{json:{mediaId:e},nonce:h,signal:n});case 3:return(r=t.sent).success?q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,L.start(r);case 15:E();case 16:M(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=$(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,Object(a.J)("".concat(u,"/ignore"),{json:{mediaId:t},nonce:h});case 3:return(n=e.sent).success?(E(),v()):alert("Error!"),M(!1),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=$(regeneratorRuntime.mark((function e(){var t,n,r,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,k("Preparing..."),M(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,Q();case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k("Delete Full-Size Retina for #".concat(e)),t.next=3,Object(a.J)("".concat(u,"/delete_retina_fullsize"),{json:{mediaId:e},nonce:h,signal:n});case 3:return(r=t.sent).success?q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,L.start(r);case 15:E();case 16:M(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=$(regeneratorRuntime.mark((function e(){var t,n,r,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,k("Preparing..."),M(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,Q();case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k("Delete Retina for #".concat(e)),t.next=3,Object(a.J)("".concat(u,"/delete_retina"),{json:{mediaId:e},nonce:h,signal:n});case 3:return(r=t.sent).success?q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,L.start(r);case 15:E();case 16:M(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=$(regeneratorRuntime.mark((function e(){var t,n,r,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,k("Preparing..."),M(!0),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,Q();case 9:e.t0=e.sent;case 10:if(!(n=e.t0)){e.next=16;break}return r=n.map((function(e){return function(){var t=$(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k("Regenerate #".concat(e)),t.next=3,Object(a.J)("".concat(u,"/regenerate"),{json:{mediaId:e},nonce:h,signal:n});case 3:return(r=t.sent).success?q(e,r.data):alert("Error!"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=15,L.start(r);case 15:E();case 16:M(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=React.createElement(React.Fragment,null,React.createElement(a.c,{className:"secondary",onClick:function(){return window.open("https://meowapps.com/plugin/wp-retina-2x/","_blank")}},"Get the Pro Version"),React.createElement(a.c,{className:"primary",onClick:function(){return window.open("https://meowapps.com/wp-retina-2x-tutorial/","_blank")}},"Read the tutorial"));return React.createElement(a.s,{nekoErrors:[y]},React.createElement(a.i,{title:"Perfect Images + Retina | Dashboard",subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(a.c,{className:"header",onClick:function(){return window.open("https://meowapps.com/wp-retina-2x-tutorial/","_blank")}},"Tutorial"),React.createElement(a.c,{icon:"dashboard",className:"header",onClick:function(){return location.href="admin.php?page=wr2x_settings"}},"Settings"))),React.createElement(a.G,null,React.createElement(a.f,{full:!0},React.createElement(a.g,{footer:!p&&fe},React.createElement(a.E,{p:!0},"Welcome to the new version of the former WP Retina 2x, now ",React.createElement("b",null,"Perfect Images"),". The goal is to make your images sizes and thumbnails more manageable, with Retina support. Please let me know if this dashboard is not clear enough, or if you have ideas how to make it even better.")),React.createElement(a.C,null,React.createElement(a.c,{onClick:function(){return Z()}},"Refresh Stats"),!W&&A.length>0&&React.createElement(React.Fragment,null,React.createElement(a.c,{className:"secondary",onClick:function(){return ee(A)}},"Build Retina for ",React.createElement("strong",null,A.length," Entries")),React.createElement(a.c,{className:"secondary",title:"Regenerate Thumbnails, Metadata and Build Retina",onClick:function(){return de(A)}},"Regenerate ",React.createElement("strong",null,A.length," Entries")),React.createElement(a.c,{className:"danger",onClick:function(){return ue(A)}},"Delete Retina for ",React.createElement("strong",null,A.length," Entries"))),React.createElement("div",{style:{flex:1}},N&&React.createElement(a.u,{status:function(e){return"".concat(m," (").concat(e,"%)")},busy:N,value:L.value,max:L.max,onStopClick:L.stop})),!W&&React.createElement(React.Fragment,null,React.createElement(a.k,{onBlur:function(e){_(e)},value:s,onEnter:function(e){_(e)}}),!s&&React.createElement(a.j,{icon:"search",width:24,style:{position:"relative",left:-34,marginRight:-22},color:"#5a5a5a82"}),s&&React.createElement(a.j,{icon:"close",width:24,style:{position:"relative",left:-34,marginRight:-22},color:a.B.blue,onClick:function(){_("")}})),!W&&0===A.length&&React.createElement(React.Fragment,null,React.createElement(a.m,{title:"Bulk Actions",style:{minWidth:180}},React.createElement(a.n,{className:"primary",onClick:function(){return ee()}},"Build Retina for ",React.createElement("strong",null,"All Issues")),React.createElement(a.n,{className:"primary",title:"Regenerate Thumbnails, Metadata and Build Retina",onClick:function(){return de()}},"Regenerate ",React.createElement("strong",null,"All Entries")),React.createElement(a.n,{className:"danger",onClick:function(){return ue()}},"Delete Retina for ",React.createElement("strong",null,"All"))))),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10,marginBottom:10}},React.createElement(a.v,{value:l,busy:W,onChange:function(e){w(e),O(1)}},React.createElement(a.l,{title:"All",value:"all",count:r.all}),React.createElement(a.l,{title:"Retina Issues",value:"issues",count:r.issues}),React.createElement(a.l,{title:"Ignored",value:"ignored",count:r.ignored})),React.createElement(a.t,{currentPage:f,limit:g,total:n,onCurrentPageChanged:function(e){return O(e)},onClick:function(e){return O(e)}})),React.createElement(a.z,{busy:W,data:K,columns:oe,sort:d,onSortChange:function(e,t){S({accessor:e,by:t})},onSelect:function(e){D([].concat(V(A),V(e)))},onUnselect:function(e){D(V(A.filter((function(t){return!e.includes(t)}))))},selectedItems:A,emptyMessage:React.createElement(React.Fragment,null,"It's all clean & nice here! 👍",React.createElement("br",null),"Why not trying to give a boost ot your DB with ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner"),"? 😌")}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},React.createElement(a.w,{scrolldown:!0,value:g,onChange:function(e){P(e),O(1)}},React.createElement(a.r,{value:10,label:"10 items per page"}),React.createElement(a.r,{value:25,label:"25 items per page"}),React.createElement(a.r,{value:50,label:"50 items per page"}),React.createElement(a.r,{value:100,label:"100 items per page"}),React.createElement(a.r,{value:250,label:"250 items per page"})),React.createElement(a.t,{currentPage:f,limit:g,total:n,onClick:function(e){return O(e)}}))),React.createElement(a.q,{isOpen:o.uploadRetinaFullsize,onRequestClose:function(){x(null)},title:"Upload Retina for Full-Size",content:React.createElement(React.Fragment,null,React.createElement(a.F,{height:200,onFailure:function(e){alert(e.message)},onSuccess:function(e){x(null),q(I,e.data),E()},apiUrl:"".concat(u,"/upload_retina_fullsize"),apiConfig:{json:{mediaId:I},nonce:h}}),React.createElement("p",{style:{marginTop:20,marginBottom:-20}},"Drop your image here! If the thumbnails could not be created before, the plugin will also use this image to create the missing Retina Images."))}),React.createElement(a.q,{isOpen:B,title:"Success",ok:"Close",content:B,onOkClick:function(){U(""),L.reset()}})))};function fe(){var e=be(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n\n  .log-date {\n    color: white;\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: #ccb028;\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: #cc2828;\n    color: white;\n  }\n"]);return fe=function(){return e},e}function pe(){var e=be(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    border-radius: 10px;\n    padding: 10px;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]);return pe=function(){return e},e}function he(){var e=be(["\n  width: 85px;\n  height: 85px;\n  padding-right: 10px;\n"]);return he=function(){return e},e}function ge(){var e=be(["\n\n  .nui-block-title {\n    display: none;\n  }\n\n  .nui-block-content {\n    display: flex;\n    padding: 10px;\n\n    h2 {\n      color: #055082;\n      font-size: 16px;\n      margin: 5px 0 5px 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      line-height: 18px;\n    }\n  }\n"]);return ge=function(){return e},e}function ye(){var e=be(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]);return ye=function(){return e},e}function be(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Re=c.a.div(ye()),Ee=Object(c.a)(a.a)(ge()),ve=c.a.img(he()),we=c.a.div(pe()),xe=c.a.ul(fe());function _e(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t,n,r,a,c,i){try{var l=e[c](i),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){ke(c,r,a,i,l,"next",e)}function l(e){ke(c,r,a,i,l,"throw",e)}i(void 0)}))}}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}return n}(e,t)||Pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ie=wp.element,je=Ie.useState,Ae=Ie.useEffect,De="".concat(s,"/meow-common/v1"),Ce=function(e){var t=e.request,n=e.title,r=e.max,c=Oe(je(!1),2),i=c[0],l=c[1],o=Oe(je([]),2),s=o[0],u=o[1],m=s.length>0?s.reduce((function(e,t){return e+t})):0,d=s.length>0?Math.ceil(m/s.length):0,f=!s.length&&i;Ae((function(){i&&setTimeout(Se(regeneratorRuntime.mark((function e(){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),e.next=3,Object(a.J)("".concat(De,"/").concat(t),{nonce:h});case 3:r=(new Date).getTime(),c=r-n,u((function(e){return[].concat(_e(e),[c])}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[s]);return React.createElement(Re,{style:{width:200,textAlign:"center"}},React.createElement(a.E,{h2:!0,style:{color:"white"}},n),React.createElement(a.h,{size:200,value:f?r:d,max:r},React.createElement("span",{style:{fontSize:20}},f?"START":d+" ms"),React.createElement("span",{style:{fontSize:12}},f?"YOUR ENGINE":s.length+" requests")),React.createElement(a.c,{style:{width:"100%",marginTop:10},color:i?"#cc3627":"#ccb027",onClick:function(){i||u([]),l(!i)}},i?"Stop":"Start"))};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t,n,r,a,c,i){try{var l=e[c](i),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){Fe(c,r,a,i,l,"next",e)}function l(e){Fe(c,r,a,i,l,"throw",e)}i(void 0)}))}}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We=wp.element,Ge=We.useState,qe=We.useEffect;u&&s&&m||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var He="".concat(s,"/meow-common/v1"),Je=React.createElement(Re,null,React.createElement(a.E,{p:!0},"Meow Apps is run by Jordy Meow, a photographer and software developer living in Japan (and taking ",React.createElement("a",{target:"_blank",href:"https://offbeatjapan.org"},"a lot of photos"),"). Meow Apps proposes a suite of plugins focusing on photography, imaging, optimization and SEO. The ultimate goal is to make your website better, faster, while making it easy. Meow Apps also teams up with the best players in the community. For more information, please check ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps"),".")),Ye=React.createElement(Re,null,React.createElement(a.E,{p:!0},"The ",React.createElement("b",null,"Empty Request Time")," helps you analyzing the raw performance of your install by giving you the average time it takes to run an empty request to your server. You can try to disable some plugins (or change their options) then Start this again to see how it influences the results. An excellent install would have an Empty Request Time of less than 500 ms. Keep it absolutely under 2,000 ms! For more information, ",React.createElement("a",{href:"https://meowapps.com/clean-optimize-wordpress/#Optimize_your_Empty_Request_Time",target:"_blank"},"click here"),"."),React.createElement(a.E,{p:!0},React.createElement("b",null,"File Operation Time")," creates a temporary size of 10MB every time. ",React.createElement("b",null,"SQL Request Time")," counts the number of posts. Those two should be very fast, and almost the same as the ",React.createElement("b",null,"Empty Request Time"),".")),Ke=React.createElement(Re,null,React.createElement(a.E,{p:!0},"Too many WordPress installs are blown-up with useless and/or heavy plugins, and not aware of best practices. That's not the fault of the users; WordPress pretends to be simple but it is in fact very complex, and the immensity and diversity of the community around it makes it a real jungle where everything is possible."),React.createElement(a.E,{p:!0},"A rule of thumb is to keep your WordPress install as simple as possible, with the least number of plugins installed (run away from the heavy ones) and an excellent hosting service. Avoid VPS or self-hosted solutions; you must be a professional to actually set them up so that they are actually performant."),React.createElement(a.E,{p:!0},"On the Meow Apps website, you will find articles which are always updated with the latest recommendations.",React.createElement("ul",null,React.createElement("li",null,"☘️  ",React.createElement("a",{href:"https://meowapps.com/how-to-debug-wordpress-errors/",target:"_blank"},"How To Debug WordPress")),React.createElement("li",null,"☘️  ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"☘️  ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"☘️  ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"☘️  ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"Best Hosting Services for WordPress"))))),$e=["".concat(He,"/all_settings/"),{headers:{"X-WP-Nonce":h}}],Ve=function(){var e=Ue(Ge(!1),2),t=e[0],n=e[1],c=Object(r.b)($e,a.I),i=c.data,l=c.mutate,o=c.error,s=null==i?void 0:i.data,u=null==s?void 0:s.meowapps_hide_meowapps,d=null==s?void 0:s.force_sslverify,f=Ue(Ge(!1),2),p=f[0],g=f[1],y=Ue(Ge([]),2),b=y[0],R=y[1],E=Ue(Ge(""),2),v=E[0],w=E[1];qe((function(){o&&!t&&(n(!0),console.error("Error from UseSWR",o.message))}),[o]),qe((function(){var e=document.getElementById("meow-common-phpinfo");w(e.innerHTML)}),[]);var x=function(){var e=Be(regeneratorRuntime.mark((function e(t,n){var r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ne({},i.data))[n]=t,l(Ne(Ne({},i),{},{data:r}),!1),g(!0),e.next=6,Object(a.J)("".concat(He,"/update_option"),{json:{name:n,value:t},nonce:h});case 6:c=e.sent,g(!1),c.success||alert(c.message),l();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Be(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Object(a.J)("".concat(He,"/error_logs"),{nonce:h});case 3:t=e.sent,n=t&&t.data?t.data:[],R(n.reverse()),g(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=React.createElement(a.x,{title:"Main Menu"},React.createElement(a.e,{max:"1"},React.createElement(a.d,{id:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(a.E,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings → General."),value:"1",disabled:p,checked:u,onChange:x}))),S=React.createElement(a.x,{title:"SSL Verify"},React.createElement(a.e,{max:"1"},React.createElement(a.d,{id:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(a.E,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:p,checked:d,onChange:x})));return React.createElement(a.s,{showRestError:t},React.createElement(a.i,{title:"The Dashboard"}),React.createElement(a.G,null,React.createElement(a.f,{full:!0},React.createElement(a.A,null,React.createElement(a.y,{title:"Meow Apps"},Je,React.createElement(a.G,null,React.createElement(a.f,{minimal:!0},React.createElement(Ee,{title:"Media Cleaner",className:"primary"},React.createElement(ve,{src:"".concat(m,"/common/img/media-cleaner.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",null,"The Cleaner analyzes your WordPress entirely to find out which files are not used. You can trash them, before deleting them permanently. Your WordPress will breath again :)"))),React.createElement(Ee,{title:"Database Cleaner",className:"primary"},React.createElement(ve,{src:"".concat(m,"/common/img/database-cleaner.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",null,"Clean your WordPress database. This plugin is simple, handles risk levels, and aims to work even on oversized databases on which other plugins fail to operate."))),React.createElement(Ee,{title:"Media File Renamer",className:"primary"},React.createElement(ve,{src:"".concat(m,"/common/img/media-file-renamer.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",null,"The Renamer will help you in getting nicer filenames for an improved SEO and a tidier filesystem. It's mostly automatic and very fun to use."))),React.createElement(Ee,{title:"Social Engine",className:"primary"},React.createElement(ve,{src:"".concat(m,"/common/img/social-engine.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",null,"Organize, schedule and automate the publishing of your content and photos on social accounts. Similar to Buffer, TweetDeck, etc, but without all the limitations, and in your WordPress."))),React.createElement(Ee,{title:"Meow Analytics",className:"primary"},React.createElement(ve,{src:"".concat(m,"/common/img/meow-analytics.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",null,"Are you tired of those heavy plugins, accessing your Google Analytics deliberately? Switch to Meow Analytics!")))),React.createElement(a.f,{minimal:!0},React.createElement(Ee,{title:"Photo Engine",className:"primary"},React.createElement(ve,{src:"".concat(m,"/common/img/wplr-sync.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",null,"Are you using Lightroom? So you know Photo Engine already. Wait, you don't? You must try it! This plugin will be your favorite very soon."))),React.createElement(Ee,{title:"Meow Gallery",className:"primary"},React.createElement(ve,{src:"".concat(m,"/common/img/meow-gallery.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",null,"This is the fastest gallery system... and it is pretty as well! It is 100% compatible with the native WordPress galleries and therefore, works right away."))),React.createElement(Ee,{title:"Meow Lightbox",className:"primary"},React.createElement(ve,{src:"".concat(m,"/common/img/meow-lightbox.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",null,"A very sleek and performant Lightbox which will also display your EXIF data (camera, lens, aperture...). Photographers love it."))),React.createElement(Ee,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(ve,{src:"".concat(m,"/common/img/wp-retina-2x.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images + Retina")),React.createElement("p",null,"It handles Retina, help you managing the Image Sizes registered in your WP, and much more."))),React.createElement(Ee,{title:"Contact Form Block",className:"primary"},React.createElement(ve,{src:"".concat(m,"/common/img/contact-form-block.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",null,"A simple, pretty and superlight contact form. If you simply want your visitors to get in touch with you, this contact form will be perfect for you and your WordPress.")))))),React.createElement(a.y,{title:"Performance"},Ye,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(Ce,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(Ce,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(Ce,{title:"SQL Request Time",request:"sql_request",max:2800}))),React.createElement(a.y,{title:"Recommendations"},Ke),React.createElement(a.y,{title:"PHP Info"},React.createElement(we,{dangerouslySetInnerHTML:{__html:v}})),React.createElement(a.y,{title:"PHP Error Logs"},React.createElement(Re,null,React.createElement(a.c,{style:{marginBottom:10},color:"#ccb027",onClick:_},"Load PHP Error Logs"),React.createElement(xe,null,b.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))))),React.createElement(a.y,{title:"Settings"},React.createElement(a.a,{title:"Settings",className:"primary"},k,S))))))};function Xe(e,t,n,r,a,c,i){try{var l=e[c](i),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function Qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){Xe(c,r,a,i,l,"next",e)}function l(e){Xe(c,r,a,i,l,"throw",e)}i(void 0)}))}}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tt=wp.element,nt=tt.useState,rt=tt.useEffect,at="".concat(s,"/meow-licenser/").concat(l,"/v1"),ct=function(){var e=Ze(nt(!1),2),t=e[0],n=e[1],r=Ze(nt(!1),2),c=r[0],i=r[1],l=Ze(nt(null),2),o=l[0],s=l[1],u=Ze(nt(null),2),m=u[0],d=u[1],g=Ze(nt(""),2),y=g[0],b=g[1],R=p&&(!m||"valid"!==m.license),E=function(){var e=Qe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,Object(a.J)("".concat(at,"/get_license"),{nonce:h});case 5:t=e.sent,d(t.data),t.data.key&&b(t.data.key),n(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Qe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,Object(a.J)("".concat(at,"/set_license"),{nonce:h,json:{serialKey:null}});case 3:e.sent.success&&(b(""),d(null),s("licenseRemoved")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Qe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,Object(a.J)("".concat(at,"/set_license"),{nonce:h,json:{serialKey:y,override:!0}});case 3:(t=e.sent).success&&(d(t.data),t.data&&!t.data.issue&&s("licenseAdded")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Qe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==y){e.next=5;break}return i(!0),d(null),b(""),e.abrupt("return");case 5:return n(!0),e.next=8,Object(a.J)("".concat(at,"/set_license"),{nonce:h,json:{serialKey:y}});case 8:(t=e.sent).success&&(d(t.data),t.data&&!t.data.issue&&s("licenseAdded")),n(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();rt((function(){E()}),[]);var _=R?"Forced License":p?"Enabled":"Disabled",k=R||m&&"valid"===m.license,S="Your license is active. Thanks a lot for your support :)";R&&m&&m.check_url&&(S=React.createElement(React.Fragment,null,React.createElement("span",null,S),React.createElement("br",null),React.createElement("small",null,"This license was enabled manually. To check your license status, please click ",React.createElement("a",{target:"_blank",href:m.check_url+"&cache="+642e3*Math.random()},"here"),"."))),k||(m?"no_activations_left"===m.issue?S=React.createElement("span",null,"There are no activations left for this license. You can visit your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps Store"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===m.issue?S=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps Store"),"."):"missing"===m.issue?S="This license does not exist.":"disabled"===m.issue?S="This license has been disabled.":"item_name_mismatch"===m.issue?S="This license seems to be for a different plugin... isn't it? :)":"forced"===m.issue?S="ABC":(S=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:m})):S="Unknown error :(");var O=React.createElement(a.a,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps Store"),"."),P=React.createElement(a.a,{title:"Pro Version (".concat(_,")"),busy:t,className:"primary"},React.createElement(a.x,{title:"Serial Key",style:{fontWeight:"bold"}},React.createElement(a.k,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:y,onChange:function(e){return b(e)},placeholder:""})),m&&!k&&React.createElement(a.o,null,S),m&&k&&React.createElement(a.p,null,S),!m&&React.createElement(a.E,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button."),React.createElement(a.x,{contentAlign:"right"},m&&!k&&React.createElement(a.c,{className:"secondary",disabled:t||!y,onClick:x},"Retry to validate"),m&&m.key===y&&React.createElement(a.c,{className:"secondary",disabled:t||!y,onClick:v},"Remove License"),React.createElement(a.c,{disabled:t||!y||m&&m.key===y,onClick:x},"Validate License"),c&&!k&&React.createElement(a.c,{disabled:t||!y||m&&m.key===y,onClick:w,className:"danger"},"Force License")),React.createElement(a.q,{isOpen:"licenseAdded"===o,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",ok:"Reload",onOkClick:function(){return location.reload()}}),React.createElement(a.q,{isOpen:"licenseRemoved"===o,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",ok:"Reload",onOkClick:function(){return location.reload()}}));return f?P:O},it=wp.element.render;function lt(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t,n,r,a,c,i){try{var l=e[c](i),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){mt(c,r,a,i,l,"next",e)}function l(e){mt(c,r,a,i,l,"throw",e)}i(void 0)}))}}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}return n}(e,t)||pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){if(e){if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.meowDashboardLoaded||(document.meowDashboardLoaded=!0,document.addEventListener("DOMContentLoaded",(function(e){var t=document.getElementById("meow-common-dashboard");t&&it(React.createElement(Ve,null),t)})));var gt=wp.element,yt=gt.useState,bt=gt.useEffect,Rt=gt.useMemo,Et=function(e,t){if(0==e)return"0 Bytes";var n=t||2,r=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]},vt=function(){var e=Rt((function(){return["".concat(u,"/all_settings/"),{headers:{"X-WP-Nonce":h}}]}),[u,h]),t=Object(r.b)(e,a.I),n=t.data,c=t.mutate,i=t.error,s=Object(a.K)(n,{},!0),m=s.busy,d=s.data,y=ft(yt(!1),2),b=y[0],R=y[1],E=ft(yt(null),2),v=E[0],w=E[1],x=ft(yt(null),2),_=x[0],k=x[1],S=m||b,O=null==d?void 0:d.wr2x_method,P=null==d?void 0:d.wr2x_sizes,T=null==d?void 0:d.wr2x_retina_sizes,I=null==d?void 0:d.wr2x_disabled_sizes,j=null==d?void 0:d.wr2x_full_size,A=null==d?void 0:d.wr2x_picturefill_keep_src,D=null==d?void 0:d.wr2x_picturefill_lazysizes,C=null==d?void 0:d.wr2x_picturefill_css_background,z=null==d?void 0:d.wr2x_picturefill_noscript,N=null==d?void 0:d.wr2x_auto_generate,M=null==d?void 0:d.wr2x_over_http_check,F=null==d?void 0:d.wr2x_debug,B=null==d?void 0:d.wr2x_disable_responsive,U=null==d?void 0:d.wr2x_cdn_domain,L=null==d?void 0:d.wr2x_big_image_size_threshold,W=null==d?void 0:d.wr2x_hide_retina_column,G=null==d?void 0:d.wr2x_hide_retina_dashboard,q=null==d?void 0:d.wr2x_image_replace,H=null==d?void 0:d.wr2x_easyio_domain,J=null==d?void 0:d.wr2x_easyio_lossless,Y="none"===O,K=function(){var e=dt(regeneratorRuntime.mark((function e(t,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=st({},n.data))[r]=t,c(st(st({},n),{},{data:i}),!1),R(!0),e.prev=4,e.next=7,Object(a.J)("".concat(u,"/update_option"),{json:{name:r,value:t},nonce:h});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),alert(e.t0.message);case 12:R(!1),c();case 14:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),$=[{value:"Responsive",label:React.createElement("span",null,"Responsive Images")},{value:"Picturefill",label:React.createElement("span",null,"Picturefill (Hybrid)")},{value:"retina.js",label:React.createElement("span",null,"Retina.js (Client-side)")},{value:"HTML Rewrite",label:React.createElement("span",null,"HTML Rewrite (Not Recommended)")},{value:"Retina-Images",label:React.createElement("span",null,"Retina-Images (Not Recommended)")},{value:"none",label:React.createElement("span",null,"None")}],V=function(){var e=dt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!H){e.next=7;break}return e.next=4,Object(a.J)("".concat(u,"/easy_io_stats"),{nonce:h});case 4:(null==(t=e.sent)?void 0:t.stats.original)&&(null==t?void 0:t.stats.savings)&&w(t.stats),(null==t?void 0:t.stats.bandwidth)&&(null==t?void 0:t.stats.quota)&&k(t.stats);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();bt((function(){V()}),[H]);var X=function(){var e=dt(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t?lt(I.filter((function(e){return e!==n}))):[].concat(lt(I),[n]),K(r,"wr2x_disabled_sizes");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=dt(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t?[].concat(lt(T),[n]):lt(T.filter((function(e){return e!==n}))),K(r,"wr2x_retina_sizes");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=dt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,Object(a.J)("".concat(u,"/easy_io_link"),{nonce:h});case 4:e.sent,c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.message);case 11:R(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=dt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,Object(a.J)("".concat(u,"/easy_io_unlink"),{nonce:h});case 4:e.sent,c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.message);case 11:R(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),te=React.createElement(a.x,null,React.createElement("table",{style:{width:"100%"}},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{textAlign:"left"}}),React.createElement("th",{style:{textAlign:"left"}},"Name"),React.createElement("th",{style:{textAlign:"left"}},"Dimensions"),React.createElement("th",{style:{textAlign:"left"}},"Enabled"),React.createElement("th",{style:{textAlign:"left"}},"Retina"))),React.createElement("tbody",null,P&&P.map((function(e){return React.createElement("tr",{key:"wr2x-sizes-"+e.name},React.createElement("td",null,e.shortname),React.createElement("td",{style:{color:"#007cb9"}},e.name),React.createElement("td",null,e.width?React.createElement(React.Fragment,null,e.width,"x",e.height):React.createElement("small",null,"Unknown (disabled)")),React.createElement("td",null,React.createElement(a.d,{id:"enabled-"+e.name,disabled:S,value:"1",checked:e.enabled,onChange:function(){return X(!e.enabled,e.name)}})),React.createElement("td",null,React.createElement(a.d,{id:"retina-"+e.name,disabled:S||!e.enabled,value:"1",checked:e.retina,onChange:function(){return Q(!e.retina,e.name)}})))}))))),ne=React.createElement(a.x,{title:"Delivery Method"},React.createElement(a.w,{scrolldown:!0,id:"wr2x_method",name:"wr2x_method",disabled:S,value:O,description:"",onChange:K},$.map((function(e){return React.createElement(a.r,{key:e.id,id:e.id,value:e.value,label:e.label,requirePro:e.requirePro})})))),re=React.createElement(a.x,{title:"Full-Size Retina"},React.createElement(a.d,{id:"wr2x_full_size",disabled:S,label:"Enable",description:React.createElement(React.Fragment,null,"Enable Retina for Full-Size. A ",React.createElement("i",null,"Upload Retina for Full-Size")," button is added in the ",React.createElement("i",null,"Perfect Images Dashboard"),"."),value:"1",requirePro:!p,checked:j,onChange:K})),ae=React.createElement(a.x,{title:"Keep IMG SRC"},React.createElement(a.d,{id:"wr2x_picturefill_keep_src",disabled:S,label:"Enable",description:React.createElement(React.Fragment,null,"With PictureFill, ",React.createElement("b",null,"src")," tags are replaced by ",React.createElement("b",null,"src-set")," tags, but Google might fail to reference those images. This option will keep the SRC for SEO purpose, but that will force the download of two images (standard, then retina) by the browsers. Please use the ",React.createElement("b",null,"Lazy Retina")," option below as it avoid this to happen (as well as making it loading lazily)."),value:"1",checked:A,onChange:K})),ce=React.createElement(a.x,{title:"Responsive Images"},React.createElement(a.d,{id:"wr2x_picturefill_lazysizes",disabled:S,label:"Enable Lazy",description:React.createElement(React.Fragment,null,"Images (including Retina Images) will not be loaded until the visitor gets closer to them. The result will be a ",React.createElement("b",null,"faster")," website that consumes less bandwidth."),value:"1",requirePro:!p,checked:D,onChange:K})),ie=React.createElement(a.x,{title:"CSS Background"},React.createElement(a.d,{id:"wr2x_picturefill_css_background",disabled:S,label:"Retina-ize",description:React.createElement(React.Fragment,null,"In your HTML, inline CSS Background will be replaced by the Retina version of the image."),value:"1",requirePro:!p,checked:C,onChange:K})),le=React.createElement(a.x,{title:"Polyfill Script"},React.createElement(a.d,{id:"wr2x_picturefill_noscript",disabled:S,label:"Do not load",description:React.createElement(React.Fragment,null,"Only ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://caniuse.com/srcset"},"the browsers with src-set support")," will display Retina images. You can also choose this if you want to load the Picturefill Polyfill script manually or if it is already loaded by your theme."),value:"1",checked:z,onChange:K})),oe=React.createElement(a.x,{title:"Retina Images"},React.createElement(a.d,{id:"wr2x_auto_generate",disabled:S,label:"Build Automatically",description:React.createElement(React.Fragment,null,"The Retina Images will be built automatically every time the thumbnails as generated or regenerated."),value:"1",checked:N,onChange:K})),se=React.createElement(a.x,{title:"Over HTTP Check"},React.createElement(a.d,{id:"wr2x_over_http_check",disabled:Y||S,label:"Enable",description:React.createElement(React.Fragment,null,"This will check the existence of retina images on remote servers. This is useful if your images are hosted on a different server than your WordPress. ",M?React.createElement("b",null,"This option slows down processing dramatically; therefore, caching is absolutely necessary."):""),value:"1",requirePro:!p,checked:!Y&&M,onChange:K})),ue=React.createElement(a.x,{title:"Debug"},React.createElement(a.d,{id:"wr2x_debug",disabled:S,label:"Force Retina + Logging",description:React.createElement(React.Fragment,null,"Displays retina and creates a log file in the plugin folder."),value:"1",checked:F,onChange:K})),me=React.createElement(a.x,{title:"Responsive Images"},React.createElement(a.d,{id:"wr2x_disable_responsive",disabled:S,label:"Disable",description:React.createElement(React.Fragment,null,"Disable the natural Responsive Images feature built in WordPress. For developers only."),value:"1",checked:B,onChange:K})),de=React.createElement(a.x,{title:"CDN Domain",requirePro:!p},React.createElement(a.k,{id:"wr2x_cdn_domain",type:"text",disabled:S,value:U,onEnter:K,onBlur:K,description:React.createElement(React.Fragment,null,"If not empty, your site domain will be replaced with this CDN domain.")})),fe=React.createElement(React.Fragment,null,React.createElement(a.x,{title:"Status"},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("div",{style:{marginBottom:5}},React.createElement(a.E,null,H&&React.createElement("div",null,React.createElement("b",null,"Easy IO is active."),React.createElement("br",null),React.createElement("small",null,"This is your CDN domain: ",H,".")),!H&&React.createElement("b",null,"Not linked with Easy IO."),!H&&React.createElement("ul",null,React.createElement("li",null,"1. Check the offer and create your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://ewww.io/easy-perfect/ref/6/?campaign=EasyPerfect"},"Perfect Images + Easy IO"),"."),React.createElement("li",null,"2. Use the [",React.createElement("b",null,"PERFECT20"),"] coupon and you will get ",React.createElement("b",null,"20% off"),"."),React.createElement("li",null,"3. Register this website [",React.createElement("b",null,g),"] in the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://ewww.io/manage-sites/"},"Easy IO Dashboard"),"."),React.createElement("li",null,"4. Click on the button below, and it's all done! 🏁")))),H&&React.createElement("div",null,React.createElement(a.c,{className:"danger",onClick:ee},"Disable Easy IO")),!H&&React.createElement("div",null,React.createElement(a.c,{onClick:Z},"Verify & Enable Easy IO"))))),pe=H?React.createElement(a.x,{title:"Stats"},React.createElement("div",{style:{display:"flex",flexDirection:"column",fontSize:14}},React.createElement(a.E,null,React.createElement("span",null,"Bandwidth Usage: "),!_&&React.createElement("span",null,"N/A"),_&&React.createElement("span",null,Et(_.bandwidth)," of ",Et(_.quota)," (",Math.round(_.bandwidth/_.quota*100)+"%",")")),React.createElement(a.E,null,React.createElement("span",null,"Image Size Reduction: "),!v&&React.createElement("span",null,"N/A"),v&&React.createElement("span",null,Math.round(v.savings/v.original*100)+"%")))):null,he=H?React.createElement(a.x,{title:"Lossless Quality"},React.createElement(a.d,{id:"wr2x_easyio_lossless",disabled:!H||S,label:"Enable",description:React.createElement(React.Fragment,null,"Make sure that the visual quality of your images is the same as the original, while still being optimized."),value:"1",checked:J,onChange:K})):null,ge=React.createElement(a.x,{title:"Image Threshold"},React.createElement(a.d,{id:"wr2x_big_image_size_threshold",disabled:S,label:"Disable",value:"1",checked:L,onChange:K})),ye=React.createElement(a.x,{title:"Image Replace"},React.createElement(a.d,{id:"wr2x_image_replace",disabled:S,label:"Enable",description:React.createElement(React.Fragment,null),requirePro:!p,value:"1",checked:q,onChange:K})),be=React.createElement(a.x,{title:"Hide Retina Column"},React.createElement(a.d,{id:"wr2x_hide_retina_column",disabled:Y||S,label:"Yes",description:React.createElement(React.Fragment,null,"Hide the ",React.createElement("i",null,"Retina Column")," in the Media Library."),value:"1",checked:!Y&&W,onChange:K})),Re=React.createElement(a.x,{title:"Hide Dashboard"},React.createElement(a.d,{id:"wr2x_hide_retina_dashboard",disabled:S,label:"Yes",description:React.createElement(React.Fragment,null,"Hide the ",React.createElement("i",null,"Perfect Images Dashboard")," menu and tools."),value:"1",checked:G,onChange:K}));return React.createElement(a.s,{nekoError:[i]},React.createElement(a.i,{title:"Perfect Images + Retina | Settings",subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(a.c,{className:"header",onClick:function(){return window.open("https://meowapps.com/wp-retina-2x-tutorial/","_blank")}},"Tutorial"),!G&&React.createElement(a.c,{icon:"dashboard",className:"header",onClick:function(){return location.href="admin.php?page=wr2x_dashboard"}},"Dashboard"))),React.createElement(a.G,null,React.createElement(a.f,{full:!0},React.createElement(a.g,null,React.createElement(a.E,{p:!0},"Perfect Images works out of the box. However, to make your install really nice and smooth, you should really take a look at the ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/wp-retina-2x-tutorial/"},"tutorial"),". Take a bit of time and you will enjoy managing your images with WordPress even more! :)")),React.createElement(a.A,null,React.createElement(a.y,{title:"General"},React.createElement(a.G,null,React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:S,title:"Image Sizes",className:"primary"},React.createElement(a.E,{p:!0},"In this screen, you can disable sizes not only the default sizes added by WordPress, but also the ones added by your theme or other plugins. For each of those sizes, you can choose whether or not you would like the Retina image to be generated for it."),te,oe,re)),React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:S,title:"Big Image Threshold",className:"primary"},React.createElement(a.E,{p:!0},"Since WordPress 5.3, images bigger than 2560px are resized automatically and renamed with ",React.createElement("i",null,"-scaled"),". To learn more about this, have a look at this article: ",React.createElement("a",{rel:"noreferrer",target:"_blank",href:"https://meowapps.com/wordpress-images-sizes/#The_Big_Image_Treshold"},"The WordPress Image Sizes"),"."),ge),React.createElement(a.a,{busy:S,title:"Image Replace & UI Features",className:"primary"},React.createElement(a.E,{p:!0},"You will be able to replace your images directly in WordPress (in the Perfect Images Dashboard). This plays nicely with the CDN (if handled by Perfect Images) and the cache."),ye,Re,be)))),React.createElement(a.y,{title:"Retina Delivery"},React.createElement(a.G,null,React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:S,title:"Basics",className:"primary"},React.createElement(a.E,{p:!0},"This controls how the retina images are integrated into your content and delivered to your visitors. The ",React.createElement("b",null,"Responsive Images")," method is recommended. If your theme and plugins are not using WordPress latest evolutions, you might have to try ",React.createElement("b",null,"PictureFill")," or ",React.createElement("b",null,"Retina.js"),"."),ne,se)),React.createElement(a.f,{minimal:!0},"Picturefill"===O&&React.createElement(a.a,{busy:S,title:"PictureFill",className:"primary"},ae,ie,le)))),React.createElement(a.y,{title:"Optimization & Speed"},React.createElement(a.G,null,React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:S,title:"Perfect Images + Easy IO",className:"primary"},!H&&React.createElement(a.E,{p:!0},"Are you interested in optimizing your images (including WebP) without slowing down your own server, while using a powerful CDN? This all-in-one solution now exists and is very affordable thanks to an unique partnership between Meow Apps and Easy IO (EWWW). More information is available ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/wp-retina-2x-tutorial/#Optimize_your_Images_and_Use_a_CDN"},"here"),"."),fe,pe,he)),React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:S,title:"Lazy Loading",className:"primary"},React.createElement(a.E,{p:!0},"Since WordPress 5.5, images are automatically lazy, and it is also using a feature included in the modern browser. It is recommended to use this new feature instead of customized one (through other plugins, or this option) since it is using no script and does not require any modification. If there is an problem with it, you can still enable the option below."),ce)))),React.createElement(a.y,{title:"Advanced"},React.createElement(a.G,null,React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:S,className:"primary"},me,ue)),React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:S,className:"primary"},React.createElement(a.E,{p:!0},"If you are using a CDN, enter your CDN subdomain here. If you are using Easy IO CDN, you don't need this, and you can directly use the options available in ",React.createElement("i",null,"Optimization & Speed"),"."),de)))),React.createElement(a.y,{title:"Pro Version"},React.createElement(ct,{domain:o,prefix:l,isPro:f,isRegistered:p}))))))},wt=function(){return React.createElement(React.Fragment,null,React.createElement("h1",{style:{marginTop:20}},"Upload New Retina Image"),React.createElement("p",null,"The Retina Image you upload here will become your Retina Image for Full-Size. Automatically, WP Retina 2x will generate the normal Full-Size image which will be basically divided by two. The thumbnails and retina thumbnails will also be generated based on your options. ",React.createElement("b",null,"For now, this uploader only works with one by one file.")),React.createElement(a.F,{style:{border:"4px dashed #b4b9be"},height:200,onFailure:function(e){alert(e.message)},onSuccess:function(){alert("Uploaded!")},apiUrl:"".concat(u,"/upload_retina"),apiConfig:{nonce:h}}))},xt=wp.element.render,_t={fetcher:a.I,revalidateOnFocus:!1};function kt(){Array.from(document.getElementsByClassName("wr2x-retina-field")).forEach((function(e){var t=e.getAttribute("data-id");xt(React.createElement(r.a,{value:_t},React.createElement(Y,{natural:!0,mediaId:t})),e)}))}document.addEventListener("DOMContentLoaded",(function(){var e,t;new window.MutationObserver((function(){kt()})).observe(document.documentElement,{childList:!0,subtree:!0}),(e=document.getElementById("wr2x-admin-settings"))&&xt(React.createElement(r.a,{value:_t},React.createElement(vt,null)),e),(t=document.getElementById("wr2x-dashboard"))&&xt(React.createElement(r.a,{value:_t},React.createElement(D,null,React.createElement(de,null))),t),kt(),function(){var e=document.getElementById("wr2x-fullsize-uploader");e&&xt(React.createElement(r.a,{value:_t},React.createElement(wt,null)),e)}()}))},2:function(e,t,n){"use strict";var r=n(15);n.d(t,"b",(function(){return r.a}));var a=n(11);n.d(t,"c",(function(){return a.a}));var c=n(39);n.d(t,"m",(function(){return c.a})),n.d(t,"n",(function(){return c.b}));var i=n(51);n.d(t,"s",(function(){return i.a}));var l=n(52);n.d(t,"a",(function(){return l.a}));var o=n(53);n.d(t,"g",(function(){return o.a}));var s=n(54);n.d(t,"x",(function(){return s.a}));n(55);var u=n(40);n.d(t,"G",(function(){return u.b})),n.d(t,"f",(function(){return u.a}));var m=n(56);n.d(t,"d",(function(){return m.a}));var d=n(57);n.d(t,"e",(function(){return d.a}));var f=n(18);n.d(t,"k",(function(){return f.a}));n(58);var p=n(41);n.d(t,"w",(function(){return p.b})),n.d(t,"r",(function(){return p.a}));n(59),n(60),n(9),n(42),n(24);var h=n(61);n.d(t,"u",(function(){return h.a}));var g=n(62);n.d(t,"i",(function(){return g.a}));var y=n(25);n.d(t,"t",(function(){return y.a}));var b=n(6);n.d(t,"j",(function(){return b.a}));var R=n(17);n.d(t,"E",(function(){return R.a}));var E=n(43);n.d(t,"v",(function(){return E.b})),n.d(t,"l",(function(){return E.a}));var v=n(63);n.d(t,"h",(function(){return v.a}));var w=n(44);n.d(t,"o",(function(){return w.a})),n.d(t,"p",(function(){return w.b}));var x=n(64);n.d(t,"F",(function(){return x.a}));n(26);var _=n(21);n.d(t,"D",(function(){return _.a}));n(16),n(65);var k=n(27);n.d(t,"q",(function(){return k.a}));n(70);var S=n(28);n.d(t,"z",(function(){return S.a}));var O=n(46);n.d(t,"A",(function(){return O.b})),n.d(t,"y",(function(){return O.a}));n(47);var P=n(71);n.d(t,"C",(function(){return P.a}));var T=n(3);n.d(t,"B",(function(){return T.a}));var I=n(7);n.d(t,"M",(function(){return I.d})),n.d(t,"K",(function(){return I.b})),n.d(t,"L",(function(){return I.c}));var j=n(14);n.d(t,"J",(function(){return j.c})),n.d(t,"I",(function(){return j.b})),n.d(t,"H",(function(){return j.a}));n(22)}});
//# sourceMappingURL=index.js.map